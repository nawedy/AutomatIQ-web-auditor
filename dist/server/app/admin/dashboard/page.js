(()=>{var e={};e.id=5957,e.ids=[5957],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10403:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var a=s(60687),r=s(43210),i=s(14163),l=r.forwardRef((e,t)=>(0,a.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=s(24224),c=s(96241);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(l,{ref:s,className:(0,c.cn)(d(),e),...t}));o.displayName=l.displayName},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31706:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),l=s.n(i),n=s(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d={children:["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,61186)),"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97786)),"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,84914)),"/Users/drgn003/AutomatIQ/AI-website-auditor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/dashboard/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},40408:(e,t,s)=>{Promise.resolve().then(s.bind(s,97786))},50136:(e,t,s)=>{Promise.resolve().then(s.bind(s,72628))},56302:(e,t,s)=>{Promise.resolve().then(s.bind(s,97900))},58869:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},61186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/dashboard/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(60687),r=s(43210),i=s(16189),l=s(82136),n=s(55192),c=s(24934),d=s(49625),o=s(41312),m=s(20835),x=s(61611),h=s(99891),u=s(93613),p=s(84027),j=s(40083),g=s(97051);function f({children:e}){let{data:t,status:s}=(0,l.useSession)(),f=(0,i.useRouter)(),b=(0,i.usePathname)(),[y,v]=(0,r.useState)(!1);if("loading"===s||!y)return(0,a.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-6"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Verifying admin privileges..."})]})});let N=[{name:"Dashboard",href:"/admin/dashboard",icon:(0,a.jsx)(d.A,{className:"w-5 h-5"})},{name:"Clients",href:"/admin/clients",icon:(0,a.jsx)(o.A,{className:"w-5 h-5"})},{name:"Analytics",href:"/admin/analytics",icon:(0,a.jsx)(m.A,{className:"w-5 h-5"})},{name:"System Health",href:"/admin/system",icon:(0,a.jsx)(x.A,{className:"w-5 h-5"})},{name:"Security",href:"/admin/security",icon:(0,a.jsx)(h.A,{className:"w-5 h-5"})},{name:"Alerts",href:"/admin/alerts",icon:(0,a.jsx)(u.A,{className:"w-5 h-5"})},{name:"Settings",href:"/admin/settings",icon:(0,a.jsx)(p.A,{className:"w-5 h-5"})}];return(0,a.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,a.jsxs)("div",{className:"w-64 h-full bg-black/20 backdrop-blur-sm border-r border-white/10 flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,a.jsxs)("h1",{className:"text-xl font-bold text-white",children:["AutomatIQ ",(0,a.jsx)("span",{className:"text-primary",children:"Admin"})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto py-4",children:(0,a.jsx)("nav",{className:"space-y-1 px-2",children:N.map(e=>{let t=b===e.href;return(0,a.jsxs)(c.$,{variant:t?"secondary":"ghost",className:`w-full justify-start ${t?"bg-primary/20 text-primary":"text-gray-300 hover:text-white hover:bg-white/10"}`,onClick:()=>f.push(e.href),children:[(0,a.jsx)("span",{className:"mr-3",children:e.icon}),e.name]},e.name)})})}),(0,a.jsxs)("div",{className:"p-4 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:t?.user?.name?.[0]||"A"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:t?.user?.name||"Admin User"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:t?.user?.email||"admin@example.com"})]})]}),(0,a.jsxs)(c.$,{variant:"outline",className:"w-full border-white/10 text-white hover:bg-white/10",onClick:()=>f.push("/auth/logout"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,a.jsxs)("header",{className:"h-16 border-b border-white/10 bg-black/20 backdrop-blur-sm flex items-center px-6 justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Admin Control Panel"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",className:"relative text-gray-300 hover:text-white",children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsx)(c.$,{variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90",children:"System Status: Healthy"})]})]}),(0,a.jsx)("main",{className:"flex-1 overflow-auto p-6",children:(0,a.jsx)(n.Zp,{className:"border-white/10 bg-black/30 backdrop-blur-sm shadow-xl",children:e})})]})]})}},86566:(e,t,s)=>{Promise.resolve().then(s.bind(s,61186))},97786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/drgn003/AutomatIQ/AI-website-auditor/app/admin/layout.tsx","default")},97900:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ty});var a=s(60687),r=s(43210),i=s.n(r),l=s(55192),n=s(59821),c=s(86287),d=s(85910),o=s(48482),m=s(92491),x=s(87780),h=s(7515),u=s(19335),p=s(93492),j=s(40491),g=s.n(j),f=s(71967),b=s.n(f),y=s(37456),v=s.n(y),N=s(5231),w=s.n(N),A=s(49384),k=s(98986),S=s(81888),T=s(23561),C=s(97633),E=s(98845),R=s(25679),M=s(54186),D=s(20237),I=s(22989),$=s(30087),F=s(10521),P=s(4057),W=s(67629);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function U(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach(function(t){q(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function L(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G(a.key),a)}}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(z=function(){return!!e})()}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,s){return(t=G(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function G(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=O(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var H=function(e){var t,s;function a(e){var t,s,r;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return s=a,r=[e],s=K(s),q(t=function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var s=e;if(void 0===s)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(this,z()?Reflect.construct(s,r||[],K(this).constructor):s.apply(this,r)),"pieRef",null),q(t,"sectorRefs",[]),q(t,"id",(0,I.NF)("recharts-pie-")),q(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),w()(e)&&e()}),q(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),w()(e)&&e()}),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_(a,e),t=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,s=t.label,r=t.labelLine,l=t.dataKey,n=t.valueKey,c=(0,M.J9)(this.props,!1),d=(0,M.J9)(s,!1),o=(0,M.J9)(r,!1),m=s&&s.offsetRadius||20,x=e.map(function(e,t){var x=(e.startAngle+e.endAngle)/2,h=(0,u.IZ)(e.cx,e.cy,e.outerRadius+m,x),p=U(U(U(U({},c),e),{},{stroke:"none"},d),{},{index:t,textAnchor:a.getTextAnchor(h.x,e.cx)},h),j=U(U(U(U({},c),e),{},{fill:"none",stroke:e.fill},o),{},{index:t,points:[(0,u.IZ)(e.cx,e.cy,e.outerRadius,x),h]}),g=l;return v()(l)&&v()(n)?g="value":v()(l)&&(g=n),i().createElement(k.W,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},r&&a.renderLabelLineItem(r,j,"line"),a.renderLabelItem(s,p,(0,$.kr)(e,g)))});return i().createElement(k.W,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(e){var t=this,s=this.props,a=s.activeShape,r=s.blendStroke,l=s.inactiveShape;return e.map(function(s,n){if((null==s?void 0:s.startAngle)===0&&(null==s?void 0:s.endAngle)===0&&1!==e.length)return null;var c=t.isActiveIndex(n),d=l&&t.hasActiveIndex()?l:null,o=U(U({},s),{},{stroke:r?s.fill:s.stroke,tabIndex:-1});return i().createElement(k.W,Z({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},(0,P.XC)(t.props,s,n),{key:"sector-".concat(null==s?void 0:s.startAngle,"-").concat(null==s?void 0:s.endAngle,"-").concat(s.midAngle,"-").concat(n)}),i().createElement(W.yp,Z({option:c?a:d,isActive:c,shapeType:"sector"},o)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,s=t.sectors,a=t.isAnimationActive,r=t.animationBegin,l=t.animationDuration,n=t.animationEasing,c=t.animationId,d=this.state,o=d.prevSectors,m=d.prevIsAnimationActive;return i().createElement(p.Ay,{begin:r,duration:l,isActive:a,easing:n,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,r=[],l=(s&&s[0]).startAngle;return s.forEach(function(e,t){var s=o&&o[t],i=t>0?g()(e,"paddingAngle",0):0;if(s){var n=(0,I.Dj)(s.endAngle-s.startAngle,e.endAngle-e.startAngle),c=U(U({},e),{},{startAngle:l+i,endAngle:l+n(a)+i});r.push(c),l=c.endAngle}else{var d=e.endAngle,m=e.startAngle,x=(0,I.Dj)(0,d-m)(a),h=U(U({},e),{},{startAngle:l+i,endAngle:l+x+i});r.push(h),l=h.endAngle}}),i().createElement(k.W,null,e.renderSectorsStatically(r))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var s=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[s].focus(),t.setState({sectorToFocus:s});break;case"ArrowRight":var a=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[a].focus(),t.setState({sectorToFocus:a});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,s=e.isAnimationActive,a=this.state.prevSectors;return s&&t&&t.length&&(!a||!b()(a,t))?this.renderSectorsWithAnimation():this.renderSectorsStatically(t)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,s=t.hide,a=t.sectors,r=t.className,l=t.label,n=t.cx,c=t.cy,d=t.innerRadius,o=t.outerRadius,m=t.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!(0,I.Et)(n)||!(0,I.Et)(c)||!(0,I.Et)(d)||!(0,I.Et)(o))return null;var h=(0,A.A)("recharts-pie",r);return i().createElement(k.W,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),l&&this.renderLabels(a),C.J.renderCallByParent(this.props,null,!1),(!m||x)&&E.Z.renderCallByParent(this.props,a,!1))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,s){if(i().isValidElement(e))return i().cloneElement(e,t);if(w()(e))return e(t);var a=(0,A.A)("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return i().createElement(S.I,Z({},t,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,s){if(i().isValidElement(e))return i().cloneElement(e,t);var a=s;if(w()(e)&&(a=e(t),i().isValidElement(a)))return a;var r=(0,A.A)("recharts-pie-label-text","boolean"==typeof e||w()(e)?"":e.className);return i().createElement(T.E,Z({},t,{alignmentBaseline:"middle",className:r}),a)}}],t&&L(a.prototype,t),s&&L(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);q(H,"displayName","Pie"),q(H,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!D.m.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),q(H,"parseDeltaAngle",function(e,t){return(0,I.sA)(t-e)*Math.min(Math.abs(t-e),360)}),q(H,"getRealPieData",function(e){var t=e.data,s=e.children,a=(0,M.J9)(e,!1),r=(0,M.aS)(s,R.f);return t&&t.length?t.map(function(e,t){return U(U(U({payload:e},a),e),r&&r[t]&&r[t].props)}):r&&r.length?r.map(function(e){return U(U({},a),e.props)}):[]}),q(H,"parseCoordinateOfPie",function(e,t){var s=t.top,a=t.left,r=t.width,i=t.height,l=(0,u.lY)(r,i);return{cx:a+(0,I.F4)(e.cx,r,r/2),cy:s+(0,I.F4)(e.cy,i,i/2),innerRadius:(0,I.F4)(e.innerRadius,l,0),outerRadius:(0,I.F4)(e.outerRadius,l,.8*l),maxRadius:e.maxRadius||Math.sqrt(r*r+i*i)/2}}),q(H,"getComposedData",function(e){var t,s,a=e.item,r=e.offset,i=void 0!==a.type.defaultProps?U(U({},a.type.defaultProps),a.props):a.props,l=H.getRealPieData(i);if(!l||!l.length)return null;var n=i.cornerRadius,c=i.startAngle,d=i.endAngle,o=i.paddingAngle,m=i.dataKey,x=i.nameKey,h=i.valueKey,p=i.tooltipType,j=Math.abs(i.minAngle),g=H.parseCoordinateOfPie(i,r),f=H.parseDeltaAngle(c,d),b=Math.abs(f),y=m;v()(m)&&v()(h)?((0,F.R)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):v()(m)&&((0,F.R)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=h);var N=l.filter(function(e){return 0!==(0,$.kr)(e,y,0)}).length,w=b-N*j-(b>=360?N:N-1)*o,A=l.reduce(function(e,t){var s=(0,$.kr)(t,y,0);return e+((0,I.Et)(s)?s:0)},0);return A>0&&(t=l.map(function(e,t){var a,r=(0,$.kr)(e,y,0),i=(0,$.kr)(e,x,t),l=((0,I.Et)(r)?r:0)/A,d=(a=t?s.endAngle+(0,I.sA)(f)*o*(0!==r):c)+(0,I.sA)(f)*((0!==r?j:0)+l*w),m=(a+d)/2,h=(g.innerRadius+g.outerRadius)/2,b=[{name:i,value:r,payload:e,dataKey:y,type:p}],v=(0,u.IZ)(g.cx,g.cy,h,m);return s=U(U(U({percent:l,cornerRadius:n,name:i,tooltipPayload:b,midAngle:m,middleRadius:h,tooltipPosition:v},e),g),{},{value:(0,$.kr)(e,y),startAngle:a,endAngle:d,payload:e,paddingAngle:(0,I.sA)(f)*o})})),U(U({},g),{},{sectors:t,data:l})});var V=(0,m.gu)({chartName:"PieChart",GraphicalChild:H,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:x.r},{axisType:"radiusAxis",AxisComp:h.E}],formatAxisMap:u.pr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Q=s(38246),J=s(41312);let Y=[{name:"Enterprise",value:12,color:"#3b82f6"},{name:"Business",value:18,color:"#8b5cf6"},{name:"Startup",value:14,color:"#10b981"},{name:"Free Tier",value:4,color:"#f59e0b"}],X=[{name:"Active (Last 24h)",value:32,color:"#10b981"},{name:"Active (Last Week)",value:10,color:"#8b5cf6"},{name:"Inactive (>1 Week)",value:6,color:"#f59e0b"}],ee=({active:e,payload:t})=>e&&t&&t.length?(0,a.jsx)("div",{className:"bg-black/80 border border-white/10 p-3 rounded-lg shadow-lg",children:(0,a.jsx)("p",{className:"text-white font-medium",children:`${t[0].name}: ${t[0].value}`})}):null;function et(){return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5 text-blue-400"}),"Client Overview"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Client distribution by plan and activity"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-4 text-center",children:"Client Distribution by Plan"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(V,{children:[(0,a.jsx)(H,{data:Y,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,labelLine:!1,children:Y.map((e,t)=>(0,a.jsx)(R.f,{fill:e.color},`cell-${t}`))}),(0,a.jsx)(Q.m,{content:(0,a.jsx)(ee,{})})]})})}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:Y.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-xs text-gray-300",children:[e.name,": ",e.value]})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-4 text-center",children:"Client Activity"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(V,{children:[(0,a.jsx)(H,{data:X,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:e,percent:t})=>`${(100*t).toFixed(0)}%`,labelLine:!1,children:X.map((e,t)=>(0,a.jsx)(R.f,{fill:e.color},`cell-${t}`))}),(0,a.jsx)(Q.m,{content:(0,a.jsx)(ee,{})})]})})}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:X.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-xs text-gray-300",children:[e.name,": ",e.value]})]},t))})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-white/10",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Key Insights"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-300",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,a.jsx)("span",{children:"Enterprise clients have increased by 15% this quarter"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{children:"Client retention rate is at 94% (up 2% from last month)"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),(0,a.jsx)("span",{children:"6 clients require attention due to inactivity"})]})]})]})]})]})}var es=s(24934),ea=s(61678),er=s(85168),ei=s(27747),el=s(9920),en=s(50326),ec=s(48730),ed=s(61611),eo=s(62688);let em=(0,eo.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ex=(0,eo.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var eh=s(41862),eu=s(78122),ep=s(93613);function ej({refreshInterval:e=3e4,initialLoad:t=!0}){let[s,i]=(0,r.useState)(t),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),[u,p]=(0,r.useState)(null),j=async()=>{i(!0),m(null);try{let e=await fetch("/api/admin/system-health");if(!e.ok)throw Error(`Error ${e.status}: ${e.statusText}`);let t=await e.json();p(t),h(new Date)}catch(e){console.error("Failed to fetch system health data:",e),m("Failed to load system health data. Please try again.")}finally{i(!1)}},g=(e,t)=>e<=t.good?"bg-green-500/20 text-green-400 border-green-500/30":e<=t.warning?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-red-500/20 text-red-400 border-red-500/30",f=(e,t)=>e<=t.good?"Good":e<=t.warning?"Warning":"Critical",b=u?[{name:"API Response Time",value:u.apiResponseTime,unit:"ms",icon:(0,a.jsx)(ec.A,{className:"w-4 h-4"}),status:g(u.apiResponseTime,{good:100,warning:150}),statusText:f(u.apiResponseTime,{good:100,warning:150}),threshold:200},{name:"DB Query Time",value:u.dbQueryTime,unit:"ms",icon:(0,a.jsx)(ed.A,{className:"w-4 h-4"}),status:g(u.dbQueryTime,{good:80,warning:120}),statusText:f(u.dbQueryTime,{good:80,warning:120}),threshold:150},{name:"CPU Usage",value:u.cpuUsage,unit:"%",icon:(0,a.jsx)(em,{className:"w-4 h-4"}),status:g(u.cpuUsage,{good:50,warning:70}),statusText:f(u.cpuUsage,{good:50,warning:70}),threshold:80},{name:"Memory Usage",value:u.memoryUsage,unit:"%",icon:(0,a.jsx)(ex,{className:"w-4 h-4"}),status:g(u.memoryUsage,{good:60,warning:75}),statusText:f(u.memoryUsage,{good:60,warning:75}),threshold:80}]:[];return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ex,{className:"w-5 h-5"}),"System Health"]}),(0,a.jsx)(l.BT,{className:"text-gray-400",children:"Real-time system performance metrics"})]}),(0,a.jsx)(es.$,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",onClick:j,disabled:s,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(0,a.jsx)(l.Wu,{className:"space-y-6",children:s&&!u?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)(eh.A,{className:"w-8 h-8 text-primary animate-spin"})}):d?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(ep.A,{className:"w-10 h-10 text-red-400 mb-2"}),(0,a.jsx)("p",{className:"text-red-400 mb-4",children:d}),(0,a.jsx)(es.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:j,children:"Retry"})]}):u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:b.map((e,t)=>(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:e.icon}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:e.name})]}),(0,a.jsx)(n.E,{className:e.status,children:e.statusText})]}),(0,a.jsxs)("div",{className:"text-xl font-bold text-white mb-1",children:[e.value," ",(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.unit})]}),(0,a.jsx)(c.k,{value:e.value/e.threshold*100,className:"h-1",color:e.status.includes("green")?"bg-green-500":e.status.includes("yellow")?"bg-yellow-500":"bg-red-500"})]},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Users"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.databaseStats.totalUsers})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Websites"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.databaseStats.totalWebsites})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Audits"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.databaseStats.totalAudits})]})]}),(0,a.jsx)("div",{className:"neomorphism p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"System Uptime"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:u.uptime})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Recent Errors (24h)"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:u.recentErrors})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-4",children:"24-Hour Performance Trends"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(ea.b,{data:u.performanceData,children:[(0,a.jsx)(er.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(ei.W,{dataKey:"time",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(el.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(en.N,{type:"monotone",dataKey:"api",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"API Response (ms)"}),(0,a.jsx)(en.N,{type:"monotone",dataKey:"db",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"DB Query (ms)"}),(0,a.jsx)(en.N,{type:"monotone",dataKey:"cpu",stroke:"#10b981",strokeWidth:2,dot:!1,name:"CPU Usage (%)"}),(0,a.jsx)(en.N,{type:"monotone",dataKey:"memory",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Memory Usage (%)"})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Recent System Alerts"}),(0,a.jsx)("div",{className:"space-y-2",children:u.alerts.length>0?u.alerts.map((e,t)=>{let s="critical"===e.severity?"border-red-500":"warning"===e.severity?"border-yellow-500":"success"===e.severity?"border-green-500":"border-blue-500";return(0,a.jsxs)("div",{className:`neomorphism p-3 rounded-lg border-l-4 ${s}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-xs text-gray-300 mt-1",children:e.message})]},t)}):(0,a.jsx)("div",{className:"text-center py-4 text-gray-400 text-sm",children:"No recent alerts"})})]})]}):null})]})}var eg=s(2041),ef=s(90812),eb=s(57359),ey=s(53411),ev=s(25541),eN=s(40228);function ew({refreshInterval:e=6e4,initialLoad:t=!0,timeRange:s="week"}={}){let[i,c]=(0,r.useState)(t),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),[u,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(s),f=async()=>{c(!0),m(null);try{let e=await fetch(`/api/admin/audit-metrics?timeRange=${j}`);if(!e.ok)throw Error(`Error ${e.status}: ${e.statusText}`);let t=await e.json();p(t),h(new Date)}catch(e){console.error("Failed to fetch audit metrics data:",e),m("Failed to load audit metrics data. Please try again.")}finally{c(!1)}},b=e=>{g(e)};return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ey.A,{className:"w-5 h-5 text-blue-400"}),"Audit Metrics"]}),(0,a.jsxs)(l.BT,{className:"text-gray-300",children:["Aggregate audit statistics across all client websites",x&&(0,a.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["Last updated: ",x.toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center border border-white/10 rounded-md overflow-hidden",children:[(0,a.jsx)(es.$,{variant:"week"===j?"default":"ghost",size:"sm",className:"week"===j?"":"text-gray-400 hover:text-white",onClick:()=>b("week"),children:"Week"}),(0,a.jsx)(es.$,{variant:"month"===j?"default":"ghost",size:"sm",className:"month"===j?"":"text-gray-400 hover:text-white",onClick:()=>b("month"),children:"Month"}),(0,a.jsx)(es.$,{variant:"quarter"===j?"default":"ghost",size:"sm",className:"quarter"===j?"":"text-gray-400 hover:text-white",onClick:()=>b("quarter"),children:"Quarter"})]}),(0,a.jsx)(es.$,{variant:"outline",size:"sm",className:"border-white/10 hover:bg-white/10",onClick:f,disabled:i,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})]})}),(0,a.jsx)(l.Wu,{className:"space-y-6",children:i&&!u?(0,a.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,a.jsx)(eh.A,{className:"w-8 h-8 text-primary animate-spin"}),(0,a.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading audit metrics data..."})]}):d?(0,a.jsxs)("div",{className:"text-center py-8 text-red-400",children:[(0,a.jsx)(ep.A,{className:"w-8 h-8 mx-auto mb-2"}),d,(0,a.jsx)(es.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:f,children:"Retry"})]}):u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"Score Distribution by Category"}),(0,a.jsx)(n.E,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"All Clients"})]}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eg.E,{data:u.categoryScores,children:[(0,a.jsx)(er.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(ei.W,{dataKey:"category",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(el.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12,domain:[0,100]}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(ef.y,{dataKey:"average",fill:"#3b82f6",name:"Average Score"}),(0,a.jsx)(ef.y,{dataKey:"highest",fill:"#10b981",name:"Highest Score"}),(0,a.jsx)(ef.y,{dataKey:"lowest",fill:"#f59e0b",name:"Lowest Score"})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-white",children:["week"===j?"Weekly":"month"===j?"Monthly":"Quarterly"," Issue Trends"]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:u.issuesFixed.change>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.A,{className:"w-4 h-4 text-green-400"}),(0,a.jsxs)("span",{className:"text-xs text-green-400",children:["-",u.issuesFixed.change,"% Critical Issues"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.A,{className:"w-4 h-4 text-yellow-400 rotate-180"}),(0,a.jsxs)("span",{className:"text-xs text-yellow-400",children:["+",Math.abs(u.issuesFixed.change),"% Critical Issues"]})]})})]}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eg.E,{data:u.issuesByDay,children:[(0,a.jsx)(er.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(ei.W,{dataKey:"date",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(el.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(eb.s,{}),(0,a.jsx)(ef.y,{dataKey:"critical",stackId:"a",fill:"#ef4444",name:"Critical"}),(0,a.jsx)(ef.y,{dataKey:"warning",stackId:"a",fill:"#f59e0b",name:"Warning"}),(0,a.jsx)(ef.y,{dataKey:"info",stackId:"a",fill:"#3b82f6",name:"Info"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Audits"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.totalAudits.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[u.completedAudits," completed / ",u.failedAudits," failed"]})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Avg. Score"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.averageScores.overall.toFixed(1)}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[u.averageScores.change>0?"+":"",u.averageScores.change.toFixed(1)," vs previous ",j]})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Issues Fixed"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:u.issuesFixed.count.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[u.issuesFixed.rate.toFixed(0),"% resolution rate"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"Audit Volume Trend"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"week"===j?"Last 7 days":"month"===j?"Last 30 days":"Last 90 days"})]})]}),(0,a.jsx)("div",{className:"h-[120px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eg.E,{data:u.auditsByDay,children:[(0,a.jsx)(er.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(ei.W,{dataKey:"date",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(el.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(ef.y,{dataKey:"count",fill:"#8b5cf6",name:"Audits"})]})})})]})]}):null})]})}var eA=s(71463),ek=s(5336),eS=s(43649),eT=s(58869);let eC=(0,eo.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var eE=s(11437),eR=s(25334);let eM=(e,t)=>{switch(e){case"audit":return(0,a.jsx)(ek.A,{className:"w-4 h-4"});case"alert":return(0,a.jsx)(eS.A,{className:"w-4 h-4"});case"login":return(0,a.jsx)(eT.A,{className:"w-4 h-4"});case"client":return(0,a.jsx)(eC,{className:"w-4 h-4"});default:return(0,a.jsx)(em,{className:"w-4 h-4"})}},eD=(e,t)=>{if("alert"===e)switch(t){case"critical":return"text-red-400";case"warning":return"text-yellow-400";case"info":return"text-blue-400";default:return"text-gray-400"}switch(e){case"audit":return"text-green-400";case"login":return"text-blue-400";case"client":return"text-cyan-400";default:return"text-gray-400"}},eI=(e,t)=>{if("alert"===e&&t)switch(t){case"critical":return"bg-red-500/20 text-red-400 border-red-500/30";case"warning":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"info":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}switch(e){case"audit":return"bg-green-500/20 text-green-400 border-green-500/30";case"login":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"client":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};function e$({limit:e=10,refreshInterval:t=6e4,initialLoad:s=!0}={}){let[i,c]=(0,r.useState)([]),[d,o]=(0,r.useState)(s),[m,x]=(0,r.useState)(null),[h,u]=(0,r.useState)(null),p=async()=>{o(!0),x(null);try{let t=await fetch(`/api/admin/recent-activity?limit=${e}`);if(!t.ok)throw Error(`Error ${t.status}: ${t.statusText}`);let s=await t.json();c(s.recentActivity),u(new Date)}catch(e){console.error("Failed to fetch recent activity data:",e),x("Failed to load recent activity data. Please try again.")}finally{o(!1)}},j=()=>{p()};return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(em,{className:"w-5 h-5 text-blue-400"}),"Recent Activity"]}),(0,a.jsxs)(l.BT,{className:"text-gray-300",children:["Latest actions across all client accounts",h&&(0,a.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["Last updated: ",h.toLocaleTimeString()]})]})]}),(0,a.jsx)(es.$,{variant:"outline",size:"sm",className:"border-white/10 text-white hover:bg-white/10",onClick:j,disabled:d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),(0,a.jsxs)(l.Wu,{children:[d&&0===i.length?(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3",children:[(0,a.jsx)(eA.E,{className:"h-5 w-5 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(eA.E,{className:"h-4 w-24"}),(0,a.jsx)(eA.E,{className:"h-4 w-16"})]}),(0,a.jsx)(eA.E,{className:"h-3 w-12"})]}),(0,a.jsx)(eA.E,{className:"h-3 w-full"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(eA.E,{className:"h-3 w-20"}),(0,a.jsx)(eA.E,{className:"h-3 w-20"})]})]})]},t))}):m?(0,a.jsxs)("div",{className:"text-center py-8 text-red-400",children:[(0,a.jsx)(eS.A,{className:"w-8 h-8 mx-auto mb-2"}),m,(0,a.jsx)(es.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:j,children:"Retry"})]}):(0,a.jsx)("div",{className:"space-y-1",children:i.map(e=>{let t=eD(e.type,e.severity),s=eM(e.type,e.severity);return(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsx)("div",{className:`mt-1 ${t}`,children:s}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[e.clientName&&(0,a.jsx)("span",{className:"font-medium text-white truncate",children:e.clientName}),(0,a.jsx)(n.E,{className:eI(e.type,e.severity),children:e.type}),e.status&&(0,a.jsx)(n.E,{variant:"outline",className:"border-white/10",children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap text-xs text-gray-400",children:[(0,a.jsx)(ec.A,{className:"w-3 h-3 mr-1"}),e.timeAgo]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center flex-wrap gap-4 mt-1 text-xs text-gray-400",children:[e.details.websiteUrl&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eE.A,{className:"w-3 h-3"}),(0,a.jsxs)("a",{href:e.details.websiteUrl.startsWith("http")?e.details.websiteUrl:`https://${e.details.websiteUrl}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary flex items-center",children:[e.details.websiteUrl,(0,a.jsx)(eR.A,{className:"w-2 h-2 ml-1"})]})]}),e.user&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eT.A,{className:"w-3 h-3"}),e.user.name,e.user.role&&(0,a.jsxs)("span",{className:"opacity-70",children:["(",e.user.role,")"]})]}),e.details.duration&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ec.A,{className:"w-3 h-3"}),Math.round(e.details.duration),"s"]})]})]})]},e.id)})}),i.length>0&&(0,a.jsx)(es.$,{variant:"ghost",className:"w-full mt-4 text-primary hover:bg-primary/10",onClick:()=>window.location.href="/admin/activity",children:"View All Activity"})]})]})}let eF=(0,eo.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),eP=(0,eo.A)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),eW=(0,eo.A)("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),eO=(0,eo.A)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);function eZ({storageUsed:e,totalStorage:t}){let s=[{name:"Storage",used:e,total:t,unit:"GB",percentage:e/t*100,icon:(0,a.jsx)(eF,{className:"w-5 h-5 text-blue-400"})},{name:"CPU",used:28,total:100,unit:"%",percentage:28,icon:(0,a.jsx)(eP,{className:"w-5 h-5 text-green-400"})},{name:"Memory",used:4.2,total:8,unit:"GB",percentage:52.5,icon:(0,a.jsx)(eW,{className:"w-5 h-5 text-purple-400"})},{name:"Network",used:1.8,total:10,unit:"Gbps",percentage:18,icon:(0,a.jsx)(eO,{className:"w-5 h-5 text-yellow-400"})}],r=e=>e<50?"text-green-400":e<80?"text-yellow-400":"text-red-400",i=e=>e<50?"bg-green-500":e<80?"bg-yellow-500":"bg-red-500";return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(eF,{className:"w-5 h-5 text-blue-400"}),"Resource Usage"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"System resource allocation and utilization"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"neomorphism p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.name})]}),(0,a.jsxs)(n.E,{className:`bg-${r(e.percentage).replace("text-","")}/20 ${r(e.percentage)} border-${r(e.percentage).replace("text-","")}/30`,children:[e.percentage.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:[e.used," ",e.unit," / ",e.total," ",e.unit]}),(0,a.jsx)("span",{className:`text-xs ${r(e.percentage)}`,children:e.percentage<50?"Healthy":e.percentage<80?"Moderate":"High Usage"})]}),(0,a.jsx)(c.k,{value:e.percentage,className:`h-2 ${i(e.percentage)}`})]},t))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Resource Allocation by Service"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Audit Processing"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"45%"})]}),(0,a.jsx)(c.k,{value:45,className:"h-1.5 bg-blue-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Database Operations"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"25%"})]}),(0,a.jsx)(c.k,{value:25,className:"h-1.5 bg-purple-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Report Generation"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"15%"})]}),(0,a.jsx)(c.k,{value:15,className:"h-1.5 bg-green-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Real-time Monitoring"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"10%"})]}),(0,a.jsx)(c.k,{value:10,className:"h-1.5 bg-yellow-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Other Services"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"5%"})]}),(0,a.jsx)(c.k,{value:5,className:"h-1.5 bg-gray-500"})]})]}),(0,a.jsxs)("div",{className:"p-3 neomorphism rounded-lg border-l-4 border-blue-500",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Resource Optimization Recommendations"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1 ml-4 list-disc",children:[(0,a.jsx)("li",{children:"Consider scaling database resources during peak audit hours (10AM-2PM)"}),(0,a.jsx)("li",{children:"Enable caching for frequently accessed audit reports to reduce storage I/O"}),(0,a.jsx)("li",{children:"Current resource allocation is sufficient for the next 30 days based on growth projections"})]})]})]})]})}var eB=s(78377),eU=s(70333),eL=s(35071),ez=s(31158),eK=s(17535),e_=s(74627),eq=s(11392);function eG(e,t){let s,a,r=t?.additionalDigits??2,i=function(e){let t,s={},a=e.split(eH.dateTimeDelimiter);if(a.length>2)return s;if(/:/.test(a[0])?t=a[0]:(s.date=a[0],t=a[1],eH.timeZoneDelimiter.test(s.date)&&(s.date=e.split(eH.timeZoneDelimiter)[0],t=e.substr(s.date.length,e.length))),t){let e=eH.timezone.exec(t);e?(s.time=t.replace(e[1],""),s.timezone=e[1]):s.time=t}return s}(e);if(i.date){let e=function(e,t){let s=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(s);if(!a)return{year:NaN,restDateString:""};let r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(i.date,r);s=function(e,t){var s,a,r,i,l,n,c,d;if(null===t)return new Date(NaN);let o=e.match(eV);if(!o)return new Date(NaN);let m=!!o[4],x=eY(o[1]),h=eY(o[2])-1,u=eY(o[3]),p=eY(o[4]),j=eY(o[5])-1;if(m){return(s=0,a=p,r=j,a>=1&&a<=53&&r>=0&&r<=6)?function(e,t,s){let a=new Date(0);a.setUTCFullYear(e,0,4);let r=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+s+1-r)),a}(t,p,j):new Date(NaN)}{let e=new Date(0);return(i=t,l=h,n=u,l>=0&&l<=11&&n>=1&&n<=(e0[l]||(e1(i)?29:28))&&(c=t,(d=x)>=1&&d<=(e1(c)?366:365)))?(e.setUTCFullYear(t,h,Math.max(x,u)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);let l=s.getTime(),n=0;if(i.time&&isNaN(n=function(e){var t,s,a;let r=e.match(eQ);if(!r)return NaN;let i=eX(r[1]),l=eX(r[2]),n=eX(r[3]);return(t=i,s=l,a=n,24===t?0===s&&0===a:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25)?i*eq.s0+l*eq.Cg+1e3*n:NaN}(i.time)))return new Date(NaN);if(i.timezone){if(isNaN(a=function(e){var t,s;if("Z"===e)return 0;let a=e.match(eJ);if(!a)return 0;let r="+"===a[1]?-1:1,i=parseInt(a[2]),l=a[3]&&parseInt(a[3])||0;return(t=0,(s=l)>=0&&s<=59)?r*(i*eq.s0+l*eq.Cg):NaN}(i.timezone)))return new Date(NaN)}else{let e=new Date(l+n),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(l+n+a)}let eH={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,eJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eY(e){return e?parseInt(e):1}function eX(e){return e&&parseFloat(e.replace(",","."))||0}let e0=[31,null,31,30,31,30,31,31,30,31,30,31];function e1(e){return e%400==0||e%4==0&&e%100!=0}var e2=s(64743),e4=s(85814),e5=s.n(e4);function e3(){let[e,t]=(0,r.useState)("overview"),[s,i]=(0,r.useState)(!0),[c,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[h,u]=(0,r.useState)([]),[p,j]=(0,r.useState)([]),{toast:g}=(0,eU.dj)(),f=async()=>{try{i(!0);let e=await fetch("/api/cron/run-scheduled-audits",{method:"GET"});if(!e.ok)throw Error("Failed to fetch scheduled audits statistics");let t=await e.json();x(t);let s=[{id:"act1",type:"audit_completed",websiteName:"example.com",websiteId:"web1",timestamp:new Date().toISOString(),details:{auditId:"audit1",score:87}},{id:"act2",type:"audit_scheduled",websiteName:"testsite.org",websiteId:"web2",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"act3",type:"export_generated",websiteName:"demo.net",websiteId:"web3",timestamp:new Date(Date.now()-72e5).toISOString(),details:{exportType:"PDF"}},{id:"act4",type:"audit_failed",websiteName:"broken.site",websiteId:"web4",timestamp:new Date(Date.now()-108e5).toISOString(),details:{errorMessage:"Connection timeout"}}];u(s);let a=[{id:"audit1",website:"example.com",date:new Date().toISOString(),score:87,status:"completed"},{id:"audit2",website:"testsite.org",date:new Date(Date.now()-864e5).toISOString(),score:92,status:"completed"},{id:"audit3",website:"demo.net",date:new Date(Date.now()-1728e5).toISOString(),score:76,status:"completed"},{id:"audit4",website:"company.co",date:new Date(Date.now()-2592e5).toISOString(),score:81,status:"completed"}];j(a)}catch(e){console.error("Error fetching dashboard data:",e),g({title:"Error",description:e.message,variant:"destructive"})}finally{i(!1)}},b=async()=>{try{o(!0),await f(),g({title:"Dashboard refreshed",description:"The dashboard data has been updated."})}catch(e){console.error("Error refreshing data:",e)}finally{o(!1)}},y=async()=>{try{o(!0);let e=await fetch("/api/cron/run-scheduled-audits",{method:"POST",headers:{"Content-Type":"application/json","x-cron-secret":"manual-trigger-from-admin"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to run scheduled audits")}let t=await e.json();g({title:"Scheduled audits triggered",description:`Processed ${t.processed} audits out of ${t.total} scheduled.`}),await f()}catch(e){console.error("Error running scheduled audits:",e),g({title:"Error",description:e.message,variant:"destructive"})}finally{o(!1)}},v=e=>{switch(e){case"audit_completed":return(0,a.jsx)(ek.A,{className:"h-4 w-4 text-green-500"});case"audit_scheduled":return(0,a.jsx)(eN.A,{className:"h-4 w-4 text-blue-500"});case"audit_failed":return(0,a.jsx)(eL.A,{className:"h-4 w-4 text-red-500"});case"export_generated":return(0,a.jsx)(ez.A,{className:"h-4 w-4 text-purple-500"});default:return(0,a.jsx)(eK.A,{className:"h-4 w-4"})}},N=e=>{switch(e.type){case"audit_completed":return`Audit completed for ${e.websiteName} with score ${e.details?.score||"N/A"}`;case"audit_scheduled":return`Audit scheduled for ${e.websiteName}`;case"audit_failed":return`Audit failed for ${e.websiteName}: ${e.details?.errorMessage||"Unknown error"}`;case"export_generated":return`${e.details?.exportType||"Report"} export generated for ${e.websiteName}`;default:return`Activity on ${e.websiteName}`}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),(0,a.jsxs)(es.$,{variant:"outline",onClick:b,disabled:s||c,children:[c?(0,a.jsx)(eh.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsxs)(d.Tabs,{value:e,onValueChange:t,children:[(0,a.jsxs)(d.TabsList,{children:[(0,a.jsx)(d.TabsTrigger,{value:"overview",children:"Overview"}),(0,a.jsx)(d.TabsTrigger,{value:"scheduled",children:"Scheduled Audits"}),(0,a.jsx)(d.TabsTrigger,{value:"export",children:"Bulk Export"})]}),(0,a.jsx)(d.TabsContent,{value:"overview",className:"space-y-6",children:s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(eh.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total Websites"}),(0,a.jsx)(ey.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m?.totalWebsites||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Being monitored by AutomatIQ"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Scheduled Audits"}),(0,a.jsx)(eN.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m?.totalScheduledAudits||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active recurring schedules"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Completed Today"}),(0,a.jsx)(ek.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m?.completedToday||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Audits completed today"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Failed Today"}),(0,a.jsx)(ep.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m?.failedToday||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Audits failed today"})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Recent Activity"}),(0,a.jsx)(l.BT,{children:"Latest actions and events across the platform"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"mr-2 mt-0.5",children:v(e.type)}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:N(e)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,e_.GP)(eG(e.timestamp),"MMM d, yyyy 'at' h:mm a")})]})]},e.id))})}),(0,a.jsx)(l.wL,{children:(0,a.jsxs)(es.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)(eK.A,{className:"h-4 w-4 mr-2"}),"View All Activity"]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Next Scheduled Audit"}),(0,a.jsx)(l.BT,{children:"Upcoming automated audit"})]}),(0,a.jsx)(l.Wu,{children:m?.nextScheduledAudit?(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(ec.A,{className:"h-5 w-5 mr-2 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,e_.GP)(eG(m.nextScheduledAudit),"MMM d, yyyy 'at' h:mm a")}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scheduled to run automatically"})]})]}),(0,a.jsxs)(es.$,{variant:"secondary",size:"sm",onClick:y,disabled:c,children:[c?(0,a.jsx)(eh.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Run Now"]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-16",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No upcoming scheduled audits"})})})]})]})}),(0,a.jsx)(d.TabsContent,{value:"scheduled",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Scheduled Audits"}),(0,a.jsx)(l.BT,{children:"Manage and monitor recurring website audits"})]}),(0,a.jsx)(l.Wu,{children:s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(eh.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Websites"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:m?.totalWebsites||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Schedules"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:m?.totalScheduledAudits||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Completed Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:m?.completedToday||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Failed Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:m?.failedToday||0})]})]}),(0,a.jsx)(eB.Separator,{}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)(es.$,{onClick:y,disabled:c,children:[c?(0,a.jsx)(eh.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Run All Due Audits"]}),(0,a.jsx)(es.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(e5(),{href:"/admin/schedules",children:[(0,a.jsx)(eN.A,{className:"h-4 w-4 mr-2"}),"Manage Schedules"]})})]}),(0,a.jsx)(eB.Separator,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Next Scheduled Audit"}),m?.nextScheduledAudit?(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(ec.A,{className:"h-5 w-5 mr-3 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,e_.GP)(eG(m.nextScheduledAudit),"MMMM d, yyyy 'at' h:mm a")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Will run automatically via cron job"})]})]}),(0,a.jsx)(n.E,{variant:"outline",className:"ml-auto",children:"Scheduled"})]}):(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg flex items-center",children:[(0,a.jsx)(ep.A,{className:"h-5 w-5 mr-3 text-yellow-500"}),(0,a.jsx)("p",{children:"No upcoming scheduled audits found"})]})]})]})})]})}),(0,a.jsx)(d.TabsContent,{value:"export",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Bulk Export"}),(0,a.jsx)(l.BT,{children:"Export multiple audit reports at once"})]}),(0,a.jsx)(l.Wu,{children:s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(eh.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsx)(e2.n,{reports:p,onExportComplete:b})})]})})]})]})}var e6=s(48629),e8=s(63974),e9=s(53723),e7=s(96882),te=s(97051),tt=s(50941);function ts({websiteId:e,onAlertCountChange:t}){let[s,i]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[o,m]=(0,r.useState)(null),[x,h]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),{toast:j}=(0,eU.dj)(),g=async()=>{if(e){d(!0),m(null);try{let s=await fetch(`/api/monitor/alerts?websiteId=${e}&unreadOnly=${u}`);if(!s.ok)throw Error(`Failed to fetch alerts: ${s.statusText}`);let a=await s.json();if(i(a.alerts||[]),t){let e=a.alerts.filter(e=>!e.read).length;t(e)}}catch(e){m(`Error fetching alerts: ${e.message}`),j({title:"Error",description:`Failed to load alerts: ${e.message}`,variant:"destructive"})}finally{d(!1)}}},f=async()=>{if(0===x.length)return void j({title:"No alerts selected",description:"Please select at least one alert to mark as read",variant:"default"});try{let t=await fetch("/api/monitor/alerts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alertIds:x,websiteId:e})});if(!t.ok)throw Error(`Failed to mark alerts as read: ${t.statusText}`);j({title:"Success",description:`${x.length} alert(s) marked as read`,variant:"default"}),i(s.map(e=>x.includes(e.id)?{...e,read:!0}:e)),h([]),u&&g()}catch(e){j({title:"Error",description:`Failed to mark alerts as read: ${e.message}`,variant:"destructive"})}},b=e=>{x.includes(e)?h(x.filter(t=>t!==e)):h([...x,e])},y=e=>{switch(e){case"CRITICAL":return(0,a.jsx)(eS.A,{className:"h-5 w-5 text-red-500"});case"ERROR":return(0,a.jsx)(ep.A,{className:"h-5 w-5 text-orange-500"});case"WARNING":return(0,a.jsx)(eS.A,{className:"h-5 w-5 text-yellow-500"});default:return(0,a.jsx)(e7.A,{className:"h-5 w-5 text-blue-500"})}},v=e=>{switch(e){case"CRITICAL":return(0,a.jsx)(n.E,{className:"bg-red-500/20 text-red-500 border-red-500/30",children:"Critical"});case"ERROR":return(0,a.jsx)(n.E,{className:"bg-orange-500/20 text-orange-500 border-orange-500/30",children:"Error"});case"WARNING":return(0,a.jsx)(n.E,{className:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:"Warning"});default:return(0,a.jsx)(n.E,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30",children:"Info"})}};return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(te.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Alerts"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Recent alerts and notifications for your website"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(es.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>g(),children:[(0,a.jsx)(eu.A,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e9.S,{id:"unread-only",checked:u,onCheckedChange:e=>p(!!e)}),(0,a.jsx)("label",{htmlFor:"unread-only",className:"text-sm text-gray-300 cursor-pointer",children:"Show unread only"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(es.$,{variant:"outline",size:"sm",disabled:0===x.length,onClick:f,children:[(0,a.jsx)(ek.A,{className:"h-3.5 w-3.5 mr-1"}),"Mark as Read"]}),(0,a.jsx)(es.$,{variant:"ghost",size:"sm",onClick:()=>{x.length===s.length?h([]):h(s.map(e=>e.id))},children:x.length===s.length&&s.length>0?"Deselect All":"Select All"})]})]}),c?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border border-white/10",children:[(0,a.jsx)(eA.E,{className:"h-5 w-5 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(eA.E,{className:"h-4 w-1/4"}),(0,a.jsx)(eA.E,{className:"h-3 w-full"}),(0,a.jsx)(eA.E,{className:"h-3 w-3/4"})]})]},e))}):o?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(eS.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:o})]}):0===s.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(te.A,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No alerts found"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:u?"You have no unread alerts. Try showing all alerts.":"No monitoring alerts have been generated for this website yet."})]}):(0,a.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:s.map(e=>(0,a.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-md border transition-colors ${x.includes(e.id)?"bg-primary/10 border-primary/30":"border-white/10 hover:border-white/20"} ${e.read?"opacity-70":""}`,children:[(0,a.jsx)("div",{className:"flex items-center h-full pt-0.5",children:(0,a.jsx)(e9.S,{checked:x.includes(e.id),onCheckedChange:()=>b(e.id)})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:y(e.severity)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[v(e.severity),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:(0,tt.m)(new Date(e.createdAt),{addSuffix:!0})})]}),!e.read&&(0,a.jsx)(n.E,{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:"New"})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-white mt-1",children:e.message}),e.metric&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Metric: ",e.metric,e.threshold&&e.value&&(0,a.jsxs)(a.Fragment,{children:[" • Threshold: ",e.threshold," • Value: ",e.value]})]})]})]},e.id))})]})]})}var ta=s(42902),tr=s(68988),ti=s(10403),tl=s(84027),tn=s(8819);let tc=[{id:"overallScore",label:"Overall Score"},{id:"seoScore",label:"SEO Score"},{id:"performanceScore",label:"Performance Score"},{id:"accessibilityScore",label:"Accessibility Score"},{id:"bestPracticesScore",label:"Best Practices Score"},{id:"securityScore",label:"Security Score"}];function td({websiteId:e,onConfigChange:t}){let[s,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),{toast:h}=(0,eU.dj)(),u=async()=>{if(e){c(!0),x(null);try{let s=await fetch(`/api/monitor/config?websiteId=${e}`);if(!s.ok)throw Error(`Failed to fetch monitoring configuration: ${s.statusText}`);let a=await s.json();i(a),t&&t(a.enabled)}catch(e){x(`Error fetching configuration: ${e.message}`),h({title:"Error",description:`Failed to load monitoring configuration: ${e.message}`,variant:"destructive"})}finally{c(!1)}}},p=async()=>{if(s&&e){o(!0),x(null);try{let a=await fetch("/api/monitor/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,websiteId:e})});if(!a.ok)throw Error(`Failed to update monitoring configuration: ${a.statusText}`);h({title:"Success",description:"Monitoring configuration updated successfully",variant:"default"}),t&&t(s.enabled)}catch(e){x(`Error updating configuration: ${e.message}`),h({title:"Error",description:`Failed to update monitoring configuration: ${e.message}`,variant:"destructive"})}finally{o(!1)}}},j=e=>{if(!s)return;let t=s.metrics.includes(e)?s.metrics.filter(t=>t!==e):[...s.metrics,e];i({...s,metrics:t})},g=async()=>{if(e){o(!0),x(null);try{let a=await fetch(`/api/monitor/config?websiteId=${e}`,{method:"DELETE"});if(!a.ok)throw Error(`Failed to disable monitoring: ${a.statusText}`);s&&i({...s,enabled:!1}),h({title:"Success",description:"Monitoring disabled successfully",variant:"default"}),t&&t(!1)}catch(e){x(`Error disabling monitoring: ${e.message}`),h({title:"Error",description:`Failed to disable monitoring: ${e.message}`,variant:"destructive"})}finally{o(!1)}}};return n?(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(eA.E,{className:"h-6 w-48"}),(0,a.jsx)(eA.E,{className:"h-4 w-72 mt-1"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eA.E,{className:"h-5 w-32"}),(0,a.jsx)(eA.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eA.E,{className:"h-5 w-40"}),(0,a.jsx)(eA.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eA.E,{className:"h-5 w-36"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(eA.E,{className:"h-10 w-full"}),(0,a.jsx)(eA.E,{className:"h-10 w-full"})]})]})]}),(0,a.jsx)(l.wL,{children:(0,a.jsx)(eA.E,{className:"h-10 w-32"})})]}):m?(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(tl.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Configuration"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(eS.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:m}),(0,a.jsx)(es.$,{variant:"outline",className:"mt-4",onClick:u,children:"Try Again"})]})})]}):s?(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"pb-2",children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(tl.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Configuration"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Configure continuous monitoring settings for your website"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ti.J,{htmlFor:"monitoring-enabled",className:"text-white",children:"Enable Monitoring"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Automatically check your website on a regular schedule"})]}),(0,a.jsx)(ta.d,{id:"monitoring-enabled",checked:s.enabled,onCheckedChange:e=>i({...s,enabled:e})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ti.J,{htmlFor:"monitoring-frequency",className:"text-white",children:"Monitoring Frequency"}),(0,a.jsxs)(e8.l6,{value:s.frequency,onValueChange:e=>i({...s,frequency:e}),disabled:!s.enabled,children:[(0,a.jsx)(e8.bq,{id:"monitoring-frequency",className:"w-full",children:(0,a.jsx)(e8.yv,{placeholder:"Select frequency"})}),(0,a.jsxs)(e8.gC,{children:[(0,a.jsx)(e8.eb,{value:"DAILY",children:"Daily"}),(0,a.jsx)(e8.eb,{value:"WEEKLY",children:"Weekly"}),(0,a.jsx)(e8.eb,{value:"BIWEEKLY",children:"Bi-weekly"}),(0,a.jsx)(e8.eb,{value:"MONTHLY",children:"Monthly"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ti.J,{htmlFor:"alert-threshold",className:"text-white",children:"Alert Threshold (%)"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Get alerted when scores drop by this percentage or more"}),(0,a.jsx)(tr.p,{id:"alert-threshold",type:"number",min:1,max:50,value:s.alertThreshold,onChange:e=>i({...s,alertThreshold:parseInt(e.target.value)||10}),disabled:!s.enabled,className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ti.J,{className:"text-white",children:"Metrics to Monitor"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Select which metrics to track for changes"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:tc.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e9.S,{id:`metric-${e.id}`,checked:s.metrics.includes(e.id),onCheckedChange:()=>j(e.id),disabled:!s.enabled}),(0,a.jsx)("label",{htmlFor:`metric-${e.id}`,className:"text-sm text-gray-300 cursor-pointer",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ti.J,{className:"text-white",children:"Notification Settings"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e9.S,{id:"email-notifications",checked:s.emailNotifications,onCheckedChange:e=>i({...s,emailNotifications:!!e}),disabled:!s.enabled}),(0,a.jsx)("label",{htmlFor:"email-notifications",className:"text-sm text-gray-300 cursor-pointer",children:"Email notifications"})]}),(0,a.jsxs)("div",{className:"pt-2",children:[(0,a.jsx)(ti.J,{htmlFor:"slack-webhook",className:"text-sm text-gray-300",children:"Slack Webhook URL (Optional)"}),(0,a.jsx)(tr.p,{id:"slack-webhook",type:"text",placeholder:"https://hooks.slack.com/services/...",value:s.slackWebhook||"",onChange:e=>i({...s,slackWebhook:e.target.value||null}),disabled:!s.enabled,className:"w-full mt-1"})]})]})]}),(0,a.jsxs)(l.wL,{className:"flex justify-between",children:[(0,a.jsx)(es.$,{variant:"destructive",onClick:g,disabled:!s.enabled||d,children:"Disable Monitoring"}),(0,a.jsx)(es.$,{onClick:p,disabled:d,className:"gap-1",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tn.A,{className:"h-4 w-4"}),"Save Configuration"]})})]})]}):null}var to=s(47138),tm=s(35780);function tx(e,t){var s=-t;let a=(0,to.a)(e);return isNaN(s)?(0,tm.w)(e,NaN):(s&&a.setDate(a.getDate()+s),a)}function th(e,t){return function(e,t){let s=(0,to.a)(e);if(isNaN(t))return(0,tm.w)(e,NaN);if(!t)return s;let a=s.getDate(),r=(0,tm.w)(e,s.getTime());return(r.setMonth(s.getMonth()+t+1,0),a>=r.getDate())?r:(s.setFullYear(r.getFullYear(),r.getMonth(),a),s)}(e,-t)}var tu=s(5748);let tp=(0,eo.A)("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),tj=[{id:"overallScore",label:"Overall Score",color:"#4f46e5"},{id:"seoScore",label:"SEO Score",color:"#10b981"},{id:"performanceScore",label:"Performance Score",color:"#f59e0b"},{id:"accessibilityScore",label:"Accessibility Score",color:"#6366f1"},{id:"bestPracticesScore",label:"Best Practices Score",color:"#8b5cf6"},{id:"securityScore",label:"Security Score",color:"#ec4899"}],tg=[{id:"7days",label:"Last 7 Days"},{id:"30days",label:"Last 30 Days"},{id:"3months",label:"Last 3 Months"},{id:"6months",label:"Last 6 Months"}];function tf({websiteId:e}){let[t,s]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),[x,h]=(0,r.useState)("30days"),[u,p]=(0,r.useState)(["overallScore","seoScore","performanceScore"]),{toast:j}=(0,eU.dj)(),g=async()=>{let t;if(e){switch(n(!0),m(null),x){case"7days":t=(0,e_.GP)(tx(new Date,7),"yyyy-MM-dd");break;case"30days":default:t=(0,e_.GP)(tx(new Date,30),"yyyy-MM-dd");break;case"3months":t=(0,e_.GP)(th(new Date,3),"yyyy-MM-dd");break;case"6months":t=(0,e_.GP)(th(new Date,6),"yyyy-MM-dd")}try{let a=u.join(","),r=await fetch(`/api/monitor/continuous?websiteId=${e}&startDate=${t}&metrics=${a}`);if(!r.ok)throw Error(`Failed to fetch monitoring data: ${r.statusText}`);let i=await r.json(),l={trends:i.trends.map(e=>({date:(0,e_.GP)(new Date(e.date),"MMM dd"),...e.scores})),latestAudit:{date:i.latestAudit?.date?(0,e_.GP)(new Date(i.latestAudit.date),"MMM dd, yyyy"):"N/A",scores:i.latestAudit?.scores||{}},previousAudit:i.previousAudit?{date:(0,e_.GP)(new Date(i.previousAudit.date),"MMM dd, yyyy"),scores:i.previousAudit.scores}:null};s(l)}catch(e){m(`Error fetching monitoring data: ${e.message}`),j({title:"Error",description:`Failed to load monitoring data: ${e.message}`,variant:"destructive"})}finally{n(!1)}}},f=e=>{u.includes(e)?u.length>1&&p(u.filter(t=>t!==e)):p([...u,e])},b=e=>{if(!t||!t.previousAudit)return null;let s=t.latestAudit.scores[e]||0,a=t.previousAudit.scores[e]||0,r=s-a;return{value:r,percentage:a>0?r/a*100:0}},y=e=>null===e?(0,a.jsx)(tu.A,{className:"h-4 w-4 text-gray-400"}):e>0?(0,a.jsx)(TrendUp,{className:"h-4 w-4 text-green-500"}):e<0?(0,a.jsx)(TrendDown,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)(tu.A,{className:"h-4 w-4 text-gray-400"});return(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(tp,{className:"h-5 w-5 text-yellow-400"}),"Performance Trends"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Monitor your website's performance metrics over time"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(e8.l6,{value:x,onValueChange:h,children:[(0,a.jsx)(e8.bq,{className:"w-[180px] h-8",children:(0,a.jsx)(e8.yv,{placeholder:"Select time range"})}),(0,a.jsx)(e8.gC,{children:tg.map(e=>(0,a.jsx)(e8.eb,{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)(es.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>g(),children:[(0,a.jsx)(eu.A,{className:"h-3.5 w-3.5"}),"Refresh"]})]})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)(d.Tabs,{defaultValue:"chart",className:"w-full",children:[(0,a.jsxs)(d.TabsList,{className:"grid grid-cols-2 mb-4",children:[(0,a.jsx)(d.TabsTrigger,{value:"chart",children:"Trend Chart"}),(0,a.jsx)(d.TabsTrigger,{value:"comparison",children:"Score Comparison"})]}),(0,a.jsx)(d.TabsContent,{value:"chart",children:i?(0,a.jsx)("div",{className:"w-full h-[300px]",children:(0,a.jsx)(eA.E,{className:"w-full h-full"})}):c?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400 h-[300px] flex flex-col items-center justify-center",children:[(0,a.jsx)(eS.A,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("p",{children:c})]}):t&&0!==t.trends.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:tj.map(e=>(0,a.jsx)(es.$,{variant:u.includes(e.id)?"default":"outline",size:"sm",onClick:()=>f(e.id),className:"h-7 text-xs",style:{backgroundColor:u.includes(e.id)?`${e.color}20`:"",borderColor:u.includes(e.id)?e.color:"",color:u.includes(e.id)?e.color:""},children:e.label},e.id))}),(0,a.jsx)("div",{className:"w-full h-[300px]",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(ea.b,{data:t.trends,margin:{top:5,right:5,left:0,bottom:5},children:[(0,a.jsx)(er.d,{strokeDasharray:"3 3",stroke:"#2d2d2d"}),(0,a.jsx)(ei.W,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),(0,a.jsx)(el.h,{domain:[0,100],stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),(0,a.jsx)(Q.m,{contentStyle:{backgroundColor:"#1f1f1f",borderColor:"#333",color:"#fff"}}),(0,a.jsx)(eb.s,{}),tj.filter(e=>u.includes(e.id)).map(e=>(0,a.jsx)(en.N,{type:"monotone",dataKey:e.id,name:e.label,stroke:e.color,activeDot:{r:6},strokeWidth:2},e.id))]})})})]}):(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400 h-[300px] flex flex-col items-center justify-center",children:[(0,a.jsx)(tp,{className:"h-12 w-12 mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No trend data available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Continuous monitoring data will appear here after multiple audits have been run."})]})}),(0,a.jsx)(d.TabsContent,{value:"comparison",children:i?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md",children:[(0,a.jsx)(eA.E,{className:"h-5 w-32"}),(0,a.jsx)(eA.E,{className:"h-5 w-24"})]},e))}):c?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(eS.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:c})]}):t&&t.latestAudit?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Latest Audit"}),(0,a.jsx)("p",{className:"text-lg font-medium text-white",children:t.latestAudit.date})]}),(0,a.jsxs)("div",{className:"p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Previous Audit"}),(0,a.jsx)("p",{className:"text-lg font-medium text-white",children:t.previousAudit?.date||"N/A"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:tj.map(e=>{let s=t.latestAudit.scores[e.id]||0,r=b(e.id);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md hover:bg-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-white",children:e.label})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:s.toFixed(1)}),null!==r&&(0,a.jsxs)("div",{className:`flex items-center gap-1 ${r.value>0?"text-green-500":r.value<0?"text-red-500":"text-gray-400"}`,children:[y(r.value),(0,a.jsxs)("span",{className:"text-sm",children:[r.value>0?"+":"",r.value.toFixed(1),"(",r.value>0?"+":"",r.percentage.toFixed(1),"%)"]})]})]})]},e.id)})})]}):(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(tp,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No comparison data available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Score comparison will appear here after at least one audit has been run."})]})})]})})]})}function tb({websites:e=[],initialWebsiteId:t}){let[s,i]=(0,r.useState)(t||""),[c,o]=(0,r.useState)(0),[m,x]=(0,r.useState)(!1),{toast:h}=(0,eU.dj)(),u=e=>{o(e)};return 0===e.length?(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(em,{className:"h-5 w-5 text-yellow-400"}),"Website Monitoring"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Continuous monitoring and alerts for your websites"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(eS.A,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No websites available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Add a website to your account to enable continuous monitoring."})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Website Monitoring"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(e8.l6,{value:s,onValueChange:i,children:[(0,a.jsx)(e8.bq,{className:"w-[250px]",children:(0,a.jsx)(e8.yv,{placeholder:"Select website"})}),(0,a.jsx)(e8.gC,{children:e.map(e=>(0,a.jsx)(e8.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.name}),e.monitoringEnabled&&(0,a.jsx)(n.E,{className:"ml-2 bg-green-500/20 text-green-500 border-green-500/30",children:"Monitoring On"})]})},e.id))})]})})]}),s?(0,a.jsxs)(d.Tabs,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(d.TabsList,{className:"grid grid-cols-3 mb-6",children:[(0,a.jsx)(d.TabsTrigger,{value:"overview",className:"relative",children:"Overview"}),(0,a.jsxs)(d.TabsTrigger,{value:"alerts",className:"relative",children:["Alerts",c>0&&(0,a.jsx)(n.E,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center bg-red-500 text-white",variant:"destructive",children:c})]}),(0,a.jsx)(d.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsx)(d.TabsContent,{value:"overview",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsx)(tf,{websiteId:s}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(te.A,{className:"h-5 w-5 text-yellow-400"}),"Recent Alerts"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Latest monitoring alerts for your website"})]}),(0,a.jsx)(l.Wu,{children:m?(0,a.jsx)(ts,{websiteId:s,onAlertCountChange:u}):(0,a.jsxs)("div",{className:"p-6 text-center text-gray-400",children:[(0,a.jsx)(te.A,{className:"h-10 w-10 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Monitoring is disabled"}),(0,a.jsx)("p",{className:"text-sm mt-1 mb-4",children:"Enable monitoring to receive alerts about your website's performance."}),(0,a.jsx)(es.$,{variant:"default",onClick:()=>{let e=document.querySelector('[value="settings"]');e&&e.click()},children:"Configure Monitoring"})]})})]}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(tl.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Status"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Current monitoring configuration"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Status"}),(0,a.jsx)(n.E,{className:m?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:m?"Enabled":"Disabled"})]}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Alert Threshold"}),(0,a.jsx)("span",{className:"text-white",children:"10%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Frequency"}),(0,a.jsx)("span",{className:"text-white",children:"Weekly"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Notifications"}),(0,a.jsx)(n.E,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30",children:"Email"})]})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(es.$,{variant:"outline",className:"w-full",onClick:()=>{let e=document.querySelector('[value="settings"]');e&&e.click()},children:m?"Update Configuration":"Enable Monitoring"})})]})})]})]})]})}),(0,a.jsx)(d.TabsContent,{value:"alerts",children:(0,a.jsx)(ts,{websiteId:s,onAlertCountChange:u})}),(0,a.jsx)(d.TabsContent,{value:"settings",children:(0,a.jsx)(td,{websiteId:s,onConfigChange:t=>{x(t),e.map(e=>e.id===s?{...e,monitoringEnabled:t}:e),t&&h({title:"Monitoring Enabled",description:"Continuous monitoring has been enabled for this website.",variant:"default"})}})})]}):(0,a.jsx)(l.Zp,{className:"glass-card border-white/10",children:(0,a.jsx)(l.Wu,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"Please select a website to view monitoring data."})})})]})}function ty(){let[e,t]=(0,r.useState)(!0),[s,i]=(0,r.useState)({totalClients:0,activeClients:0,totalWebsites:0,totalAudits:0,criticalIssues:0,monitoredWebsites:0,activeAlerts:0,systemHealth:0,apiResponseTime:0,dbQueryTime:0,storageUsed:0,totalStorage:0});return e?(0,a.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white",children:"Loading dashboard data..."})]})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ec.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium text-gray-300",children:"Total Clients"}),(0,a.jsx)(J.A,{className:"h-4 w-4 text-blue-400"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.totalClients}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.E,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.activeClients," Active"]}),(0,a.jsxs)(n.E,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:[s.totalClients-s.activeClients," Inactive"]})]})]})]}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium text-gray-300",children:"Total Websites"}),(0,a.jsx)(eE.A,{className:"h-4 w-4 text-purple-400"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.totalWebsites}),(0,a.jsxs)("p",{className:"text-xs text-purple-400",children:["~",(s.totalWebsites/s.totalClients).toFixed(1)," per client"]})]})]}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium text-gray-300",children:"Critical Issues"}),(0,a.jsx)(eS.A,{className:"h-4 w-4 text-red-400"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.criticalIssues}),(0,a.jsx)("p",{className:"text-xs text-red-400",children:"Across all monitored websites"})]})]}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium text-gray-300",children:"System Health"}),(0,a.jsx)(ex,{className:"h-4 w-4 text-green-400"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[s.systemHealth,"%"]}),(0,a.jsx)(c.k,{value:s.systemHealth,className:"h-1 mt-2"})]})]}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium text-gray-300",children:"Monitored Websites"}),(0,a.jsx)(em,{className:"h-4 w-4 text-yellow-400"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.monitoredWebsites}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsxs)(n.E,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[s.activeAlerts," Alerts"]})})]})]})]}),(0,a.jsxs)(d.Tabs,{defaultValue:"overview",className:"space-y-4",children:[(0,a.jsxs)(d.TabsList,{className:"bg-black/20 border border-white/10",children:[(0,a.jsx)(d.TabsTrigger,{value:"overview",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Overview"}),(0,a.jsx)(d.TabsTrigger,{value:"audits",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Audit Management"}),(0,a.jsx)(d.TabsTrigger,{value:"monitoring",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Monitoring"}),(0,a.jsx)(d.TabsTrigger,{value:"clients",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Client Analytics"}),(0,a.jsx)(d.TabsTrigger,{value:"system",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"System Performance"}),(0,a.jsx)(d.TabsTrigger,{value:"activity",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Recent Activity"})]}),(0,a.jsxs)(d.TabsContent,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(et,{}),(0,a.jsx)(ew,{})]}),(0,a.jsx)(e$,{})]}),(0,a.jsxs)(d.TabsContent,{value:"audits",className:"space-y-6",children:[(0,a.jsx)(e3,{}),(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ey.A,{className:"w-5 h-5 text-blue-400"}),"Comparative Analysis"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Sample comparative analysis for a website"})]}),(0,a.jsx)(l.Wu,{children:s.totalWebsites>0?(0,a.jsx)(e6.ComparativeAnalysis,{websiteId:"sample-website-id"}):(0,a.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No websites available for analysis"})})})]})]}),(0,a.jsx)(d.TabsContent,{value:"monitoring",className:"space-y-6",children:(0,a.jsx)(tb,{websites:[{id:"website-1",name:"Company Website",url:"https://example.com",monitoringEnabled:!0},{id:"website-2",name:"E-commerce Store",url:"https://store.example.com",monitoringEnabled:!0},{id:"website-3",name:"Marketing Blog",url:"https://blog.example.com",monitoringEnabled:!1}]})}),(0,a.jsx)(d.TabsContent,{value:"clients",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5 text-blue-400"}),"Client Analytics"]}),(0,a.jsx)(l.BT,{className:"text-gray-300",children:"Detailed analytics for all client accounts"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"h-[400px] flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"Client analytics visualization will be displayed here"})})})]})}),(0,a.jsx)(d.TabsContent,{value:"system",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(ej,{}),(0,a.jsx)(eZ,{storageUsed:s.storageUsed,totalStorage:s.totalStorage})]})}),(0,a.jsx)(d.TabsContent,{value:"activity",className:"space-y-6",children:(0,a.jsx)(e$,{limit:20})})]})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[4243,4362,198,4097,1904,4044,3735,3817,1372,9630,264],()=>s(31706));module.exports=a})();