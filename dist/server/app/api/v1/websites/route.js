(()=>{var e={};e.id=834,e.ids=[834],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},41778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>l,serverHooks:()=>v,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>d});var a=r(96559),n=r(48088),o=r(37719),i=r(32190);let u=new Map;async function p(e){let{searchParams:t}=new URL(e.url),r=Number.parseInt(t.get("limit")||"10"),s=Number.parseInt(t.get("offset")||"0");try{let t=e.headers.get("authorization");if(!t||!t.startsWith("Bearer "))return i.NextResponse.json({error:"Missing or invalid API key"},{status:401});if(!t.substring(7).startsWith("ak_live_"))return i.NextResponse.json({error:"Invalid API key format"},{status:401});let a=Array.from(u.values()),n=a.slice(s,s+r);return i.NextResponse.json({data:n,pagination:{total:a.length,limit:r,offset:s,has_more:s+r<a.length}})}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}async function d(e){try{let t=e.headers.get("authorization");if(!t||!t.startsWith("Bearer "))return i.NextResponse.json({error:"Missing or invalid API key"},{status:401});if(!t.substring(7).startsWith("ak_live_"))return i.NextResponse.json({error:"Invalid API key format"},{status:401});let{name:r,url:s,description:a,audit_frequency:n="weekly",notifications:o=!0,tags:p=[]}=await e.json();if(!r||!s)return i.NextResponse.json({error:"Name and URL are required"},{status:400});try{new URL(s)}catch{return i.NextResponse.json({error:"Invalid URL format"},{status:400})}let d=`website_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,l={id:d,name:r,url:s,description:a||"",audit_frequency:n,notifications:o,tags:p,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_audit:null,next_audit:function(e){let t=new Date;switch(e){case"daily":t.setDate(t.getDate()+1);break;case"weekly":t.setDate(t.getDate()+7);break;case"monthly":t.setMonth(t.getMonth()+1);break;default:return""}return t.toISOString()}(n),total_audits:0,average_score:null};return u.set(d,l),i.NextResponse.json({data:l},{status:201})}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/v1/websites/route",pathname:"/api/v1/websites",filename:"route",bundlePath:"app/api/v1/websites/route"},resolvedPagePath:"/Users/drgn003/AutomatIQ/AI-website-auditor/app/api/v1/websites/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:g,serverHooks:v}=l;function x(){return(0,o.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:g})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,580],()=>r(41778));module.exports=s})();