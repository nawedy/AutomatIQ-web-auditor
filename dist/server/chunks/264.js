"use strict";exports.id=264,exports.ids=[264],exports.modules={25334:(e,s,r)=>{r.d(s,{A:()=>a});let a=(0,r(62688).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},35071:(e,s,r)=>{r.d(s,{A:()=>a});let a=(0,r(62688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48629:(e,s,r)=>{r.d(s,{ComparativeAnalysis:()=>D});var a=r(60687),t=r(43210),l=r(16189);r(74627);var c=r(48482),i=r(61678),n=r(85168),d=r(27747),o=r(9920),m=r(38246),x=r(57359),h=r(50326),u=r(2041),j=r(90812),p=r(55192),f=r(24934),v=r(63974),y=r(78377),N=r(59821),g=r(70333),S=r(5748),b=r(25541),w=r(12640),k=r(40228),A=r(20835),C=r(53411),$=r(41862);function D({websiteId:e,currentAuditId:s,className:r}){let[D,E]=(0,t.useState)(!0),[z,q]=(0,t.useState)([]),[B,L]=(0,t.useState)("30days"),[M,R]=(0,t.useState)("line"),[F,K]=(0,t.useState)(["overallScore"]),W=(0,l.useRouter)(),{toast:V}=(0,g.dj)(),O=e=>{F.includes(e)?F.length>1&&K(F.filter(s=>s!==e)):K([...F,e])},T=e=>{if(z.length<2)return null;let s=z[0][e],r=z[z.length-1][e]-s;return{diff:r,percentage:Math.round(10*(0===s?0:r/s*100))/10,improved:r>0}},Z=e=>e?e.improved?(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(w.A,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)(S.A,{className:"h-4 w-4"}),H=e=>{switch(e){case"overallScore":return"#4F46E5";case"seoScore":return"#2563EB";case"performanceScore":return"#D97706";case"accessibilityScore":return"#059669";case"securityScore":return"#DC2626";case"mobileScore":return"#7C3AED";case"contentScore":return"#0891B2";default:return"#6B7280"}},I=e=>{switch(e){case"overallScore":return"Overall";case"seoScore":return"SEO";case"performanceScore":return"Performance";case"accessibilityScore":return"Accessibility";case"securityScore":return"Security";case"mobileScore":return"Mobile";case"contentScore":return"Content";default:return e}},P=e=>{W.push(`/audits/${e}`)};return(0,a.jsxs)(p.Zp,{className:r,children:[(0,a.jsxs)(p.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(p.ZB,{children:"Comparative Analysis"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(v.l6,{value:B,onValueChange:e=>L(e),children:[(0,a.jsxs)(v.bq,{className:"w-[140px]",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(v.yv,{placeholder:"Time Range"})]}),(0,a.jsxs)(v.gC,{children:[(0,a.jsx)(v.eb,{value:"7days",children:"Last 7 days"}),(0,a.jsx)(v.eb,{value:"30days",children:"Last 30 days"}),(0,a.jsx)(v.eb,{value:"90days",children:"Last 90 days"}),(0,a.jsx)(v.eb,{value:"all",children:"All time"})]})]}),(0,a.jsxs)("div",{className:"flex border rounded-md overflow-hidden",children:[(0,a.jsx)(f.$,{variant:"line"===M?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>R("line"),children:(0,a.jsx)(A.A,{className:"h-4 w-4"})}),(0,a.jsx)(f.$,{variant:"bar"===M?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>R("bar"),children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]})]}),(0,a.jsx)(p.BT,{children:"Compare audit scores over time to track improvements"})]}),(0,a.jsx)(p.Wu,{children:D?(0,a.jsx)("div",{className:"flex justify-center items-center py-16",children:(0,a.jsx)($.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===z.length?(0,a.jsx)("div",{className:"text-center py-16",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Not enough audit data available for comparison. Run more audits to see trends over time."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:["overallScore","seoScore","performanceScore","accessibilityScore","securityScore","mobileScore","contentScore"].map(e=>(0,a.jsx)(N.E,{variant:F.includes(e)?"default":"outline",className:"cursor-pointer",style:{backgroundColor:F.includes(e)?H(e):"transparent",borderColor:H(e),color:F.includes(e)?"white":H(e)},onClick:()=>O(e),children:I(e)},e))}),(0,a.jsx)("div",{className:"h-[300px] w-full",children:(0,a.jsx)(c.u,{width:"100%",height:"100%",children:"line"===M?(0,a.jsxs)(i.b,{data:z,children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3"}),(0,a.jsx)(d.W,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),(0,a.jsx)(o.h,{domain:[0,100]}),(0,a.jsx)(m.m,{formatter:e=>[`${e}`,""],labelFormatter:e=>`Date: ${e}`}),(0,a.jsx)(x.s,{}),F.map(e=>(0,a.jsx)(h.N,{type:"monotone",dataKey:e,name:I(e),stroke:H(e),strokeWidth:2,dot:{r:4},activeDot:{r:6}},e))]}):(0,a.jsxs)(u.E,{data:z,children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3"}),(0,a.jsx)(d.W,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),(0,a.jsx)(o.h,{domain:[0,100]}),(0,a.jsx)(m.m,{formatter:e=>[`${e}`,""],labelFormatter:e=>`Date: ${e}`}),(0,a.jsx)(x.s,{}),F.map(e=>(0,a.jsx)(j.y,{dataKey:e,name:I(e),fill:H(e)},e))]})})}),z.length>=2&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Improvements"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:F.map(e=>{let s=T(e);return(0,a.jsxs)("div",{className:"flex flex-col p-3 border rounded-md",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:I(e)}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[Z(s),(0,a.jsx)("span",{className:`text-lg font-medium ml-1 ${s?.improved?"text-green-600":s?.diff===0?"text-gray-500":"text-red-600"}`,children:s?`${s.diff>0?"+":""}${s.diff}`:"-"}),(0,a.jsxs)("span",{className:"text-xs ml-1 text-muted-foreground",children:["(",s?`${s.percentage>0?"+":""}${s.percentage}%`:"-",")"]})]})]},e)})})]})]})}),z.length>0&&(0,a.jsxs)(p.wL,{className:"flex-col items-start pt-0",children:[(0,a.jsx)(y.Separator,{className:"mb-4"}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Recent Audits"}),(0,a.jsx)("div",{className:"space-y-2",children:z.slice(-3).reverse().map(e=>(0,a.jsxs)("div",{className:`flex items-center justify-between p-2 rounded-md hover:bg-muted/50 cursor-pointer ${s===e.id?"bg-muted":""}`,onClick:()=>P(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:e.formattedDate})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.overallScore,"/100"]}),(0,a.jsx)(f.$,{variant:"ghost",size:"sm",className:"ml-2",children:"View"})]})]},e.id))})]})]})]})}}};