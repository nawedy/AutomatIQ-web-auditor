(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{27737:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var a=t(95155),l=t(53999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},55914:(e,s,t)=>{Promise.resolve().then(t.bind(t,89602))},82714:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var a=t(95155),l=t(12115),r=t(40968),i=t(74466),c=t(53999);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.b,{ref:s,className:(0,c.cn)(n(),t),...l})});d.displayName=r.b.displayName},89602:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eI});var a=t(95155),l=t(12115),r=t(88482),i=t(88145),c=t(41397),n=t(34964),d=t(83540),o=t(84336),x=t(34e3),m=t(54811),h=t(94517),u=t(17580);let j=[{name:"Enterprise",value:12,color:"#3b82f6"},{name:"Business",value:18,color:"#8b5cf6"},{name:"Startup",value:14,color:"#10b981"},{name:"Free Tier",value:4,color:"#f59e0b"}],g=[{name:"Active (Last 24h)",value:32,color:"#10b981"},{name:"Active (Last Week)",value:10,color:"#8b5cf6"},{name:"Inactive (>1 Week)",value:6,color:"#f59e0b"}],b=e=>{let{active:s,payload:t}=e;return s&&t&&t.length?(0,a.jsx)("div",{className:"bg-black/80 border border-white/10 p-3 rounded-lg shadow-lg",children:(0,a.jsx)("p",{className:"text-white font-medium",children:"".concat(t[0].name,": ").concat(t[0].value)})}):null};function p(){return(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-blue-400"}),"Client Overview"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Client distribution by plan and activity"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-4 text-center",children:"Client Distribution by Plan"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.r,{children:[(0,a.jsx)(x.F,{data:j,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},labelLine:!1,children:j.map((e,s)=>(0,a.jsx)(m.f,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(h.m,{content:(0,a.jsx)(b,{})})]})})}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:j.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-xs text-gray-300",children:[e.name,": ",e.value]})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-4 text-center",children:"Client Activity"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.r,{children:[(0,a.jsx)(x.F,{data:g,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:e=>{let{name:s,percent:t}=e;return"".concat((100*t).toFixed(0),"%")},labelLine:!1,children:g.map((e,s)=>(0,a.jsx)(m.f,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(h.m,{content:(0,a.jsx)(b,{})})]})})}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:g.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-xs text-gray-300",children:[e.name,": ",e.value]})]},s))})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-white/10",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Key Insights"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-300",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,a.jsx)("span",{children:"Enterprise clients have increased by 15% this quarter"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{children:"Client retention rate is at 94% (up 2% from last month)"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),(0,a.jsx)("span",{children:"6 clients require attention due to inactivity"})]})]})]})]})]})}var N=t(97168),f=t(93504),y=t(94754),w=t(96025),v=t(16238),A=t(21374),S=t(14186),k=t(54213),T=t(79397),C=t(25487),E=t(51154),R=t(53904),W=t(85339);function M(e){let{refreshInterval:s=3e4,initialLoad:t=!0}=e,[n,o]=(0,l.useState)(t),[x,m]=(0,l.useState)(null),[u,j]=(0,l.useState)(null),[g,b]=(0,l.useState)(null),p=async()=>{o(!0),m(null);try{let e=await fetch("/api/admin/system-health");if(!e.ok)throw Error("Error ".concat(e.status,": ").concat(e.statusText));let s=await e.json();b(s),j(new Date)}catch(e){console.error("Failed to fetch system health data:",e),m("Failed to load system health data. Please try again.")}finally{o(!1)}};(0,l.useEffect)(()=>{t&&p();let e=setInterval(()=>{p()},s);return()=>clearInterval(e)},[s,t]);let M=(e,s)=>e<=s.good?"bg-green-500/20 text-green-400 border-green-500/30":e<=s.warning?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-red-500/20 text-red-400 border-red-500/30",F=(e,s)=>e<=s.good?"Good":e<=s.warning?"Warning":"Critical",B=g?[{name:"API Response Time",value:g.apiResponseTime,unit:"ms",icon:(0,a.jsx)(S.A,{className:"w-4 h-4"}),status:M(g.apiResponseTime,{good:100,warning:150}),statusText:F(g.apiResponseTime,{good:100,warning:150}),threshold:200},{name:"DB Query Time",value:g.dbQueryTime,unit:"ms",icon:(0,a.jsx)(k.A,{className:"w-4 h-4"}),status:M(g.dbQueryTime,{good:80,warning:120}),statusText:F(g.dbQueryTime,{good:80,warning:120}),threshold:150},{name:"CPU Usage",value:g.cpuUsage,unit:"%",icon:(0,a.jsx)(T.A,{className:"w-4 h-4"}),status:M(g.cpuUsage,{good:50,warning:70}),statusText:F(g.cpuUsage,{good:50,warning:70}),threshold:80},{name:"Memory Usage",value:g.memoryUsage,unit:"%",icon:(0,a.jsx)(C.A,{className:"w-4 h-4"}),status:M(g.memoryUsage,{good:60,warning:75}),statusText:F(g.memoryUsage,{good:60,warning:75}),threshold:80}]:[];return(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-5 h-5"}),"System Health"]}),(0,a.jsx)(r.BT,{className:"text-gray-400",children:"Real-time system performance metrics"})]}),(0,a.jsx)(N.$,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",onClick:p,disabled:n,children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(0,a.jsx)(r.Wu,{className:"space-y-6",children:n&&!g?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)(E.A,{className:"w-8 h-8 text-primary animate-spin"})}):x?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(W.A,{className:"w-10 h-10 text-red-400 mb-2"}),(0,a.jsx)("p",{className:"text-red-400 mb-4",children:x}),(0,a.jsx)(N.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:p,children:"Retry"})]}):g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:B.map((e,s)=>(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:e.icon}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:e.name})]}),(0,a.jsx)(i.E,{className:e.status,children:e.statusText})]}),(0,a.jsxs)("div",{className:"text-xl font-bold text-white mb-1",children:[e.value," ",(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.unit})]}),(0,a.jsx)(c.k,{value:e.value/e.threshold*100,className:"h-1",color:e.status.includes("green")?"bg-green-500":e.status.includes("yellow")?"bg-yellow-500":"bg-red-500"})]},s))}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Users"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:g.databaseStats.totalUsers})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Websites"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:g.databaseStats.totalWebsites})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Total Audits"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:g.databaseStats.totalAudits})]})]}),(0,a.jsx)("div",{className:"neomorphism p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"System Uptime"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:g.uptime})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Recent Errors (24h)"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:g.recentErrors})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-4",children:"24-Hour Performance Trends"}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(f.b,{data:g.performanceData,children:[(0,a.jsx)(y.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(w.W,{dataKey:"time",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(v.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(h.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(A.N,{type:"monotone",dataKey:"api",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"API Response (ms)"}),(0,a.jsx)(A.N,{type:"monotone",dataKey:"db",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"DB Query (ms)"}),(0,a.jsx)(A.N,{type:"monotone",dataKey:"cpu",stroke:"#10b981",strokeWidth:2,dot:!1,name:"CPU Usage (%)"}),(0,a.jsx)(A.N,{type:"monotone",dataKey:"memory",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Memory Usage (%)"})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Recent System Alerts"}),(0,a.jsx)("div",{className:"space-y-2",children:g.alerts.length>0?g.alerts.map((e,s)=>{let t="critical"===e.severity?"border-red-500":"warning"===e.severity?"border-yellow-500":"success"===e.severity?"border-green-500":"border-blue-500";return(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg border-l-4 ".concat(t),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-xs text-gray-300 mt-1",children:e.message})]},s)}):(0,a.jsx)("div",{className:"text-center py-4 text-gray-400 text-sm",children:"No recent alerts"})})]})]}):null})]})}var F=t(3401),B=t(83394),I=t(24026),D=t(72713),Z=t(33109),L=t(69074);function P(){let{refreshInterval:e=6e4,initialLoad:s=!0,timeRange:t="week"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[c,n]=(0,l.useState)(s),[o,x]=(0,l.useState)(null),[m,u]=(0,l.useState)(null),[j,g]=(0,l.useState)(null),[b,p]=(0,l.useState)(t),f=async()=>{n(!0),x(null);try{let e=await fetch("/api/admin/audit-metrics?timeRange=".concat(b));if(!e.ok)throw Error("Error ".concat(e.status,": ").concat(e.statusText));let s=await e.json();g(s),u(new Date)}catch(e){console.error("Failed to fetch audit metrics data:",e),x("Failed to load audit metrics data. Please try again.")}finally{n(!1)}},A=e=>{p(e)};return(0,l.useEffect)(()=>{s&&f();let t=setInterval(()=>{f()},e);return()=>clearInterval(t)},[e,s]),(0,l.useEffect)(()=>{f()},[b]),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-blue-400"}),"Audit Metrics"]}),(0,a.jsxs)(r.BT,{className:"text-gray-300",children:["Aggregate audit statistics across all client websites",m&&(0,a.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["Last updated: ",m.toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center border border-white/10 rounded-md overflow-hidden",children:[(0,a.jsx)(N.$,{variant:"week"===b?"default":"ghost",size:"sm",className:"week"===b?"":"text-gray-400 hover:text-white",onClick:()=>A("week"),children:"Week"}),(0,a.jsx)(N.$,{variant:"month"===b?"default":"ghost",size:"sm",className:"month"===b?"":"text-gray-400 hover:text-white",onClick:()=>A("month"),children:"Month"}),(0,a.jsx)(N.$,{variant:"quarter"===b?"default":"ghost",size:"sm",className:"quarter"===b?"":"text-gray-400 hover:text-white",onClick:()=>A("quarter"),children:"Quarter"})]}),(0,a.jsx)(N.$,{variant:"outline",size:"sm",className:"border-white/10 hover:bg-white/10",onClick:f,disabled:c,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})]})}),(0,a.jsx)(r.Wu,{className:"space-y-6",children:c&&!j?(0,a.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,a.jsx)(E.A,{className:"w-8 h-8 text-primary animate-spin"}),(0,a.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading audit metrics data..."})]}):o?(0,a.jsxs)("div",{className:"text-center py-8 text-red-400",children:[(0,a.jsx)(W.A,{className:"w-8 h-8 mx-auto mb-2"}),o,(0,a.jsx)(N.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:f,children:"Retry"})]}):j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"Score Distribution by Category"}),(0,a.jsx)(i.E,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"All Clients"})]}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(F.E,{data:j.categoryScores,children:[(0,a.jsx)(y.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(w.W,{dataKey:"category",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(v.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12,domain:[0,100]}),(0,a.jsx)(h.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(B.y,{dataKey:"average",fill:"#3b82f6",name:"Average Score"}),(0,a.jsx)(B.y,{dataKey:"highest",fill:"#10b981",name:"Highest Score"}),(0,a.jsx)(B.y,{dataKey:"lowest",fill:"#f59e0b",name:"Lowest Score"})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-white",children:["week"===b?"Weekly":"month"===b?"Monthly":"Quarterly"," Issue Trends"]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:j.issuesFixed.change>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.A,{className:"w-4 h-4 text-green-400"}),(0,a.jsxs)("span",{className:"text-xs text-green-400",children:["-",j.issuesFixed.change,"% Critical Issues"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.A,{className:"w-4 h-4 text-yellow-400 rotate-180"}),(0,a.jsxs)("span",{className:"text-xs text-yellow-400",children:["+",Math.abs(j.issuesFixed.change),"% Critical Issues"]})]})})]}),(0,a.jsx)("div",{className:"h-[200px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(F.E,{data:j.issuesByDay,children:[(0,a.jsx)(y.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(w.W,{dataKey:"date",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(v.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(h.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(I.s,{}),(0,a.jsx)(B.y,{dataKey:"critical",stackId:"a",fill:"#ef4444",name:"Critical"}),(0,a.jsx)(B.y,{dataKey:"warning",stackId:"a",fill:"#f59e0b",name:"Warning"}),(0,a.jsx)(B.y,{dataKey:"info",stackId:"a",fill:"#3b82f6",name:"Info"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Audits"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:j.totalAudits.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[j.completedAudits," completed / ",j.failedAudits," failed"]})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Avg. Score"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:j.averageScores.overall.toFixed(1)}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[j.averageScores.change>0?"+":"",j.averageScores.change.toFixed(1)," vs previous ",b]})]}),(0,a.jsxs)("div",{className:"neomorphism p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Issues Fixed"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:j.issuesFixed.count.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-green-400",children:[j.issuesFixed.rate.toFixed(0),"% resolution rate"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"Audit Volume Trend"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"week"===b?"Last 7 days":"month"===b?"Last 30 days":"Last 90 days"})]})]}),(0,a.jsx)("div",{className:"h-[120px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(F.E,{data:j.auditsByDay,children:[(0,a.jsx)(y.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(w.W,{dataKey:"date",stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(v.h,{stroke:"rgba(255,255,255,0.6)",fontSize:12}),(0,a.jsx)(h.m,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white"}}),(0,a.jsx)(B.y,{dataKey:"count",fill:"#8b5cf6",name:"Audits"})]})})})]})]}):null})]})}var U=t(27737),O=t(40646),z=t(1243),$=t(71007),K=t(48136),G=t(34869),_=t(33786);let q=(e,s)=>{switch(e){case"audit":return(0,a.jsx)(O.A,{className:"w-4 h-4"});case"alert":return(0,a.jsx)(z.A,{className:"w-4 h-4"});case"login":return(0,a.jsx)($.A,{className:"w-4 h-4"});case"client":return(0,a.jsx)(K.A,{className:"w-4 h-4"});default:return(0,a.jsx)(T.A,{className:"w-4 h-4"})}},H=(e,s)=>{if("alert"===e)switch(s){case"critical":return"text-red-400";case"warning":return"text-yellow-400";case"info":return"text-blue-400";default:return"text-gray-400"}switch(e){case"audit":return"text-green-400";case"login":return"text-blue-400";case"client":return"text-cyan-400";default:return"text-gray-400"}},V=(e,s)=>{if("alert"===e&&s)switch(s){case"critical":return"bg-red-500/20 text-red-400 border-red-500/30";case"warning":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"info":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}switch(e){case"audit":return"bg-green-500/20 text-green-400 border-green-500/30";case"login":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"client":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};function Q(){let{limit:e=10,refreshInterval:s=6e4,initialLoad:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[c,n]=(0,l.useState)([]),[d,o]=(0,l.useState)(t),[x,m]=(0,l.useState)(null),[h,u]=(0,l.useState)(null),j=async()=>{o(!0),m(null);try{let s=await fetch("/api/admin/recent-activity?limit=".concat(e));if(!s.ok)throw Error("Error ".concat(s.status,": ").concat(s.statusText));let t=await s.json();n(t.recentActivity),u(new Date)}catch(e){console.error("Failed to fetch recent activity data:",e),m("Failed to load recent activity data. Please try again.")}finally{o(!1)}};(0,l.useEffect)(()=>{t&&j();let e=setInterval(()=>{j()},s);return()=>clearInterval(e)},[s,t,e]);let g=()=>{j()};return(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"w-5 h-5 text-blue-400"}),"Recent Activity"]}),(0,a.jsxs)(r.BT,{className:"text-gray-300",children:["Latest actions across all client accounts",h&&(0,a.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["Last updated: ",h.toLocaleTimeString()]})]})]}),(0,a.jsx)(N.$,{variant:"outline",size:"sm",className:"border-white/10 text-white hover:bg-white/10",onClick:g,disabled:d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),(0,a.jsxs)(r.Wu,{children:[d&&0===c.length?(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3",children:[(0,a.jsx)(U.E,{className:"h-5 w-5 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(U.E,{className:"h-4 w-24"}),(0,a.jsx)(U.E,{className:"h-4 w-16"})]}),(0,a.jsx)(U.E,{className:"h-3 w-12"})]}),(0,a.jsx)(U.E,{className:"h-3 w-full"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(U.E,{className:"h-3 w-20"}),(0,a.jsx)(U.E,{className:"h-3 w-20"})]})]})]},s))}):x?(0,a.jsxs)("div",{className:"text-center py-8 text-red-400",children:[(0,a.jsx)(z.A,{className:"w-8 h-8 mx-auto mb-2"}),x,(0,a.jsx)(N.$,{variant:"outline",className:"mt-4 border-white/10 hover:bg-white/10",onClick:g,children:"Retry"})]}):(0,a.jsx)("div",{className:"space-y-1",children:c.map(e=>{let s=H(e.type,e.severity),t=q(e.type,e.severity);return(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsx)("div",{className:"mt-1 ".concat(s),children:t}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[e.clientName&&(0,a.jsx)("span",{className:"font-medium text-white truncate",children:e.clientName}),(0,a.jsx)(i.E,{className:V(e.type,e.severity),children:e.type}),e.status&&(0,a.jsx)(i.E,{variant:"outline",className:"border-white/10",children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap text-xs text-gray-400",children:[(0,a.jsx)(S.A,{className:"w-3 h-3 mr-1"}),e.timeAgo]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center flex-wrap gap-4 mt-1 text-xs text-gray-400",children:[e.details.websiteUrl&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(G.A,{className:"w-3 h-3"}),(0,a.jsxs)("a",{href:e.details.websiteUrl.startsWith("http")?e.details.websiteUrl:"https://".concat(e.details.websiteUrl),target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary flex items-center",children:[e.details.websiteUrl,(0,a.jsx)(_.A,{className:"w-2 h-2 ml-1"})]})]}),e.user&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)($.A,{className:"w-3 h-3"}),e.user.name,e.user.role&&(0,a.jsxs)("span",{className:"opacity-70",children:["(",e.user.role,")"]})]}),e.details.duration&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),Math.round(e.details.duration),"s"]})]})]})]},e.id)})}),c.length>0&&(0,a.jsx)(N.$,{variant:"ghost",className:"w-full mt-4 text-primary hover:bg-primary/10",onClick:()=>window.location.href="/admin/activity",children:"View All Activity"})]})]})}var J=t(95880),Y=t(73314),X=t(73558),ee=t(19302);function es(e){let{storageUsed:s,totalStorage:t}=e,l=[{name:"Storage",used:s,total:t,unit:"GB",percentage:s/t*100,icon:(0,a.jsx)(J.A,{className:"w-5 h-5 text-blue-400"})},{name:"CPU",used:28,total:100,unit:"%",percentage:28,icon:(0,a.jsx)(Y.A,{className:"w-5 h-5 text-green-400"})},{name:"Memory",used:4.2,total:8,unit:"GB",percentage:52.5,icon:(0,a.jsx)(X.A,{className:"w-5 h-5 text-purple-400"})},{name:"Network",used:1.8,total:10,unit:"Gbps",percentage:18,icon:(0,a.jsx)(ee.A,{className:"w-5 h-5 text-yellow-400"})}],n=e=>e<50?"text-green-400":e<80?"text-yellow-400":"text-red-400",d=e=>e<50?"bg-green-500":e<80?"bg-yellow-500":"bg-red-500";return(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5 text-blue-400"}),"Resource Usage"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"System resource allocation and utilization"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:l.map((e,s)=>(0,a.jsxs)("div",{className:"neomorphism p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.name})]}),(0,a.jsxs)(i.E,{className:"bg-".concat(n(e.percentage).replace("text-",""),"/20 ").concat(n(e.percentage)," border-").concat(n(e.percentage).replace("text-",""),"/30"),children:[e.percentage.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:[e.used," ",e.unit," / ",e.total," ",e.unit]}),(0,a.jsx)("span",{className:"text-xs ".concat(n(e.percentage)),children:e.percentage<50?"Healthy":e.percentage<80?"Moderate":"High Usage"})]}),(0,a.jsx)(c.k,{value:e.percentage,className:"h-2 ".concat(d(e.percentage))})]},s))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Resource Allocation by Service"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Audit Processing"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"45%"})]}),(0,a.jsx)(c.k,{value:45,className:"h-1.5 bg-blue-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Database Operations"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"25%"})]}),(0,a.jsx)(c.k,{value:25,className:"h-1.5 bg-purple-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Report Generation"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"15%"})]}),(0,a.jsx)(c.k,{value:15,className:"h-1.5 bg-green-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Real-time Monitoring"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"10%"})]}),(0,a.jsx)(c.k,{value:10,className:"h-1.5 bg-yellow-500"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Other Services"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"5%"})]}),(0,a.jsx)(c.k,{value:5,className:"h-1.5 bg-gray-500"})]})]}),(0,a.jsxs)("div",{className:"p-3 neomorphism rounded-lg border-l-4 border-blue-500",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Resource Optimization Recommendations"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1 ml-4 list-disc",children:[(0,a.jsx)("li",{children:"Consider scaling database resources during peak audit hours (10AM-2PM)"}),(0,a.jsx)("li",{children:"Enable caching for frequently accessed audit reports to reduce storage I/O"}),(0,a.jsx)("li",{children:"Current resource allocation is sufficient for the next 30 days based on growth projections"})]})]})]})]})}var et=t(76037),ea=t(14503),el=t(54861),er=t(91788),ei=t(29676),ec=t(67426),en=t(83343),ed=t(25979),eo=t(6874),ex=t.n(eo);function em(){let[e,s]=(0,l.useState)("overview"),[t,c]=(0,l.useState)(!0),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(null),[h,u]=(0,l.useState)([]),[j,g]=(0,l.useState)([]),{toast:b}=(0,ea.dj)();(0,l.useEffect)(()=>{p()},[]);let p=async()=>{try{c(!0);let e=await fetch("/api/cron/run-scheduled-audits",{method:"GET"});if(!e.ok)throw Error("Failed to fetch scheduled audits statistics");let s=await e.json();m(s);let t=[{id:"act1",type:"audit_completed",websiteName:"example.com",websiteId:"web1",timestamp:new Date().toISOString(),details:{auditId:"audit1",score:87}},{id:"act2",type:"audit_scheduled",websiteName:"testsite.org",websiteId:"web2",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"act3",type:"export_generated",websiteName:"demo.net",websiteId:"web3",timestamp:new Date(Date.now()-72e5).toISOString(),details:{exportType:"PDF"}},{id:"act4",type:"audit_failed",websiteName:"broken.site",websiteId:"web4",timestamp:new Date(Date.now()-108e5).toISOString(),details:{errorMessage:"Connection timeout"}}];u(t);let a=[{id:"audit1",website:"example.com",date:new Date().toISOString(),score:87,status:"completed"},{id:"audit2",website:"testsite.org",date:new Date(Date.now()-864e5).toISOString(),score:92,status:"completed"},{id:"audit3",website:"demo.net",date:new Date(Date.now()-1728e5).toISOString(),score:76,status:"completed"},{id:"audit4",website:"company.co",date:new Date(Date.now()-2592e5).toISOString(),score:81,status:"completed"}];g(a)}catch(e){console.error("Error fetching dashboard data:",e),b({title:"Error",description:e.message,variant:"destructive"})}finally{c(!1)}},f=async()=>{try{o(!0),await p(),b({title:"Dashboard refreshed",description:"The dashboard data has been updated."})}catch(e){console.error("Error refreshing data:",e)}finally{o(!1)}},y=async()=>{try{o(!0);let e=await fetch("/api/cron/run-scheduled-audits",{method:"POST",headers:{"Content-Type":"application/json","x-cron-secret":"manual-trigger-from-admin"}});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to run scheduled audits")}let s=await e.json();b({title:"Scheduled audits triggered",description:"Processed ".concat(s.processed," audits out of ").concat(s.total," scheduled.")}),await p()}catch(e){console.error("Error running scheduled audits:",e),b({title:"Error",description:e.message,variant:"destructive"})}finally{o(!1)}},w=e=>{switch(e){case"audit_completed":return(0,a.jsx)(O.A,{className:"h-4 w-4 text-green-500"});case"audit_scheduled":return(0,a.jsx)(L.A,{className:"h-4 w-4 text-blue-500"});case"audit_failed":return(0,a.jsx)(el.A,{className:"h-4 w-4 text-red-500"});case"export_generated":return(0,a.jsx)(er.A,{className:"h-4 w-4 text-purple-500"});default:return(0,a.jsx)(ei.A,{className:"h-4 w-4"})}},v=e=>{var s,t,a;switch(e.type){case"audit_completed":return"Audit completed for ".concat(e.websiteName," with score ").concat((null==(s=e.details)?void 0:s.score)||"N/A");case"audit_scheduled":return"Audit scheduled for ".concat(e.websiteName);case"audit_failed":return"Audit failed for ".concat(e.websiteName,": ").concat((null==(t=e.details)?void 0:t.errorMessage)||"Unknown error");case"export_generated":return"".concat((null==(a=e.details)?void 0:a.exportType)||"Report"," export generated for ").concat(e.websiteName);default:return"Activity on ".concat(e.websiteName)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),(0,a.jsxs)(N.$,{variant:"outline",onClick:f,disabled:t||d,children:[d?(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsxs)(n.Tabs,{value:e,onValueChange:s,children:[(0,a.jsxs)(n.TabsList,{children:[(0,a.jsx)(n.TabsTrigger,{value:"overview",children:"Overview"}),(0,a.jsx)(n.TabsTrigger,{value:"scheduled",children:"Scheduled Audits"}),(0,a.jsx)(n.TabsTrigger,{value:"export",children:"Bulk Export"})]}),(0,a.jsx)(n.TabsContent,{value:"overview",className:"space-y-6",children:t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(E.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Websites"}),(0,a.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==x?void 0:x.totalWebsites)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Being monitored by AutomatIQ"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Scheduled Audits"}),(0,a.jsx)(L.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==x?void 0:x.totalScheduledAudits)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active recurring schedules"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Completed Today"}),(0,a.jsx)(O.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==x?void 0:x.completedToday)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Audits completed today"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Failed Today"}),(0,a.jsx)(W.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==x?void 0:x.failedToday)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Audits failed today"})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Recent Activity"}),(0,a.jsx)(r.BT,{children:"Latest actions and events across the platform"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"mr-2 mt-0.5",children:w(e.type)}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:v(e)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,ec.GP)((0,en.H)(e.timestamp),"MMM d, yyyy 'at' h:mm a")})]})]},e.id))})}),(0,a.jsx)(r.wL,{children:(0,a.jsxs)(N.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),"View All Activity"]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Next Scheduled Audit"}),(0,a.jsx)(r.BT,{children:"Upcoming automated audit"})]}),(0,a.jsx)(r.Wu,{children:(null==x?void 0:x.nextScheduledAudit)?(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 mr-2 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,ec.GP)((0,en.H)(x.nextScheduledAudit),"MMM d, yyyy 'at' h:mm a")}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scheduled to run automatically"})]})]}),(0,a.jsxs)(N.$,{variant:"secondary",size:"sm",onClick:y,disabled:d,children:[d?(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Run Now"]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-16",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No upcoming scheduled audits"})})})]})]})}),(0,a.jsx)(n.TabsContent,{value:"scheduled",className:"space-y-6",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Scheduled Audits"}),(0,a.jsx)(r.BT,{children:"Manage and monitor recurring website audits"})]}),(0,a.jsx)(r.Wu,{children:t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(E.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Websites"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==x?void 0:x.totalWebsites)||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Schedules"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==x?void 0:x.totalScheduledAudits)||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Completed Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==x?void 0:x.completedToday)||0})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Failed Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==x?void 0:x.failedToday)||0})]})]}),(0,a.jsx)(et.Separator,{}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)(N.$,{onClick:y,disabled:d,children:[d?(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Run All Due Audits"]}),(0,a.jsx)(N.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(ex(),{href:"/admin/schedules",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Manage Schedules"]})})]}),(0,a.jsx)(et.Separator,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Next Scheduled Audit"}),(null==x?void 0:x.nextScheduledAudit)?(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 mr-3 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,ec.GP)((0,en.H)(x.nextScheduledAudit),"MMMM d, yyyy 'at' h:mm a")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Will run automatically via cron job"})]})]}),(0,a.jsx)(i.E,{variant:"outline",className:"ml-auto",children:"Scheduled"})]}):(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg flex items-center",children:[(0,a.jsx)(W.A,{className:"h-5 w-5 mr-3 text-yellow-500"}),(0,a.jsx)("p",{children:"No upcoming scheduled audits found"})]})]})]})})]})}),(0,a.jsx)(n.TabsContent,{value:"export",className:"space-y-6",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Bulk Export"}),(0,a.jsx)(r.BT,{children:"Export multiple audit reports at once"})]}),(0,a.jsx)(r.Wu,{children:t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(E.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsx)(ed.n,{reports:j,onExportComplete:f})})]})})]})]})}var eh=t(84025),eu=t(95784),ej=t(95139),eg=t(81284),eb=t(23861),ep=t(90498);function eN(e){let{websiteId:s,onAlertCountChange:t}=e,[c,n]=(0,l.useState)([]),[d,o]=(0,l.useState)(!0),[x,m]=(0,l.useState)(null),[h,u]=(0,l.useState)([]),[j,g]=(0,l.useState)(!0),{toast:b}=(0,ea.dj)(),p=async()=>{if(s){o(!0),m(null);try{let e=await fetch("/api/monitor/alerts?websiteId=".concat(s,"&unreadOnly=").concat(j));if(!e.ok)throw Error("Failed to fetch alerts: ".concat(e.statusText));let a=await e.json();if(n(a.alerts||[]),t){let e=a.alerts.filter(e=>!e.read).length;t(e)}}catch(e){m("Error fetching alerts: ".concat(e.message)),b({title:"Error",description:"Failed to load alerts: ".concat(e.message),variant:"destructive"})}finally{o(!1)}}},f=async()=>{if(0===h.length)return void b({title:"No alerts selected",description:"Please select at least one alert to mark as read",variant:"default"});try{let e=await fetch("/api/monitor/alerts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alertIds:h,websiteId:s})});if(!e.ok)throw Error("Failed to mark alerts as read: ".concat(e.statusText));b({title:"Success",description:"".concat(h.length," alert(s) marked as read"),variant:"default"}),n(c.map(e=>h.includes(e.id)?{...e,read:!0}:e)),u([]),j&&p()}catch(e){b({title:"Error",description:"Failed to mark alerts as read: ".concat(e.message),variant:"destructive"})}},y=e=>{h.includes(e)?u(h.filter(s=>s!==e)):u([...h,e])},w=e=>{switch(e){case"CRITICAL":return(0,a.jsx)(z.A,{className:"h-5 w-5 text-red-500"});case"ERROR":return(0,a.jsx)(W.A,{className:"h-5 w-5 text-orange-500"});case"WARNING":return(0,a.jsx)(z.A,{className:"h-5 w-5 text-yellow-500"});default:return(0,a.jsx)(eg.A,{className:"h-5 w-5 text-blue-500"})}},v=e=>{switch(e){case"CRITICAL":return(0,a.jsx)(i.E,{className:"bg-red-500/20 text-red-500 border-red-500/30",children:"Critical"});case"ERROR":return(0,a.jsx)(i.E,{className:"bg-orange-500/20 text-orange-500 border-orange-500/30",children:"Error"});case"WARNING":return(0,a.jsx)(i.E,{className:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:"Warning"});default:return(0,a.jsx)(i.E,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30",children:"Info"})}};return(0,l.useEffect)(()=>{s&&p()},[s,j]),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(eb.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Alerts"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Recent alerts and notifications for your website"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(N.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>p(),children:[(0,a.jsx)(R.A,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ej.S,{id:"unread-only",checked:j,onCheckedChange:e=>g(!!e)}),(0,a.jsx)("label",{htmlFor:"unread-only",className:"text-sm text-gray-300 cursor-pointer",children:"Show unread only"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(N.$,{variant:"outline",size:"sm",disabled:0===h.length,onClick:f,children:[(0,a.jsx)(O.A,{className:"h-3.5 w-3.5 mr-1"}),"Mark as Read"]}),(0,a.jsx)(N.$,{variant:"ghost",size:"sm",onClick:()=>{h.length===c.length?u([]):u(c.map(e=>e.id))},children:h.length===c.length&&c.length>0?"Deselect All":"Select All"})]})]}),d?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border border-white/10",children:[(0,a.jsx)(U.E,{className:"h-5 w-5 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(U.E,{className:"h-4 w-1/4"}),(0,a.jsx)(U.E,{className:"h-3 w-full"}),(0,a.jsx)(U.E,{className:"h-3 w-3/4"})]})]},e))}):x?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(z.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:x})]}):0===c.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(eb.A,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No alerts found"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:j?"You have no unread alerts. Try showing all alerts.":"No monitoring alerts have been generated for this website yet."})]}):(0,a.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:c.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border transition-colors ".concat(h.includes(e.id)?"bg-primary/10 border-primary/30":"border-white/10 hover:border-white/20"," ").concat(e.read?"opacity-70":""),children:[(0,a.jsx)("div",{className:"flex items-center h-full pt-0.5",children:(0,a.jsx)(ej.S,{checked:h.includes(e.id),onCheckedChange:()=>y(e.id)})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:w(e.severity)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[v(e.severity),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:(0,ep.m)(new Date(e.createdAt),{addSuffix:!0})})]}),!e.read&&(0,a.jsx)(i.E,{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:"New"})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-white mt-1",children:e.message}),e.metric&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Metric: ",e.metric,e.threshold&&e.value&&(0,a.jsxs)(a.Fragment,{children:[" • Threshold: ",e.threshold," • Value: ",e.value]})]})]})]},e.id))})]})]})}var ef=t(90088),ey=t(89852),ew=t(82714),ev=t(381),eA=t(4229);let eS=[{id:"overallScore",label:"Overall Score"},{id:"seoScore",label:"SEO Score"},{id:"performanceScore",label:"Performance Score"},{id:"accessibilityScore",label:"Accessibility Score"},{id:"bestPracticesScore",label:"Best Practices Score"},{id:"securityScore",label:"Security Score"}];function ek(e){let{websiteId:s,onConfigChange:t}=e,[i,c]=(0,l.useState)(null),[n,d]=(0,l.useState)(!0),[o,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),{toast:u}=(0,ea.dj)(),j=async()=>{if(s){d(!0),h(null);try{let e=await fetch("/api/monitor/config?websiteId=".concat(s));if(!e.ok)throw Error("Failed to fetch monitoring configuration: ".concat(e.statusText));let a=await e.json();c(a),t&&t(a.enabled)}catch(e){h("Error fetching configuration: ".concat(e.message)),u({title:"Error",description:"Failed to load monitoring configuration: ".concat(e.message),variant:"destructive"})}finally{d(!1)}}},g=async()=>{if(i&&s){x(!0),h(null);try{let e=await fetch("/api/monitor/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...i,websiteId:s})});if(!e.ok)throw Error("Failed to update monitoring configuration: ".concat(e.statusText));u({title:"Success",description:"Monitoring configuration updated successfully",variant:"default"}),t&&t(i.enabled)}catch(e){h("Error updating configuration: ".concat(e.message)),u({title:"Error",description:"Failed to update monitoring configuration: ".concat(e.message),variant:"destructive"})}finally{x(!1)}}},b=e=>{if(!i)return;let s=i.metrics.includes(e)?i.metrics.filter(s=>s!==e):[...i.metrics,e];c({...i,metrics:s})},p=async()=>{if(s){x(!0),h(null);try{let e=await fetch("/api/monitor/config?websiteId=".concat(s),{method:"DELETE"});if(!e.ok)throw Error("Failed to disable monitoring: ".concat(e.statusText));i&&c({...i,enabled:!1}),u({title:"Success",description:"Monitoring disabled successfully",variant:"default"}),t&&t(!1)}catch(e){h("Error disabling monitoring: ".concat(e.message)),u({title:"Error",description:"Failed to disable monitoring: ".concat(e.message),variant:"destructive"})}finally{x(!1)}}};return((0,l.useEffect)(()=>{s&&j()},[s]),n)?(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(U.E,{className:"h-6 w-48"}),(0,a.jsx)(U.E,{className:"h-4 w-72 mt-1"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.E,{className:"h-5 w-32"}),(0,a.jsx)(U.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.E,{className:"h-5 w-40"}),(0,a.jsx)(U.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.E,{className:"h-5 w-36"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(U.E,{className:"h-10 w-full"}),(0,a.jsx)(U.E,{className:"h-10 w-full"})]})]})]}),(0,a.jsx)(r.wL,{children:(0,a.jsx)(U.E,{className:"h-10 w-32"})})]}):m?(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Configuration"]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(z.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:m}),(0,a.jsx)(N.$,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]})})]}):i?(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"pb-2",children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Configuration"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Configure continuous monitoring settings for your website"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ew.J,{htmlFor:"monitoring-enabled",className:"text-white",children:"Enable Monitoring"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Automatically check your website on a regular schedule"})]}),(0,a.jsx)(ef.d,{id:"monitoring-enabled",checked:i.enabled,onCheckedChange:e=>c({...i,enabled:e})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ew.J,{htmlFor:"monitoring-frequency",className:"text-white",children:"Monitoring Frequency"}),(0,a.jsxs)(eu.l6,{value:i.frequency,onValueChange:e=>c({...i,frequency:e}),disabled:!i.enabled,children:[(0,a.jsx)(eu.bq,{id:"monitoring-frequency",className:"w-full",children:(0,a.jsx)(eu.yv,{placeholder:"Select frequency"})}),(0,a.jsxs)(eu.gC,{children:[(0,a.jsx)(eu.eb,{value:"DAILY",children:"Daily"}),(0,a.jsx)(eu.eb,{value:"WEEKLY",children:"Weekly"}),(0,a.jsx)(eu.eb,{value:"BIWEEKLY",children:"Bi-weekly"}),(0,a.jsx)(eu.eb,{value:"MONTHLY",children:"Monthly"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ew.J,{htmlFor:"alert-threshold",className:"text-white",children:"Alert Threshold (%)"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Get alerted when scores drop by this percentage or more"}),(0,a.jsx)(ey.p,{id:"alert-threshold",type:"number",min:1,max:50,value:i.alertThreshold,onChange:e=>c({...i,alertThreshold:parseInt(e.target.value)||10}),disabled:!i.enabled,className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ew.J,{className:"text-white",children:"Metrics to Monitor"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Select which metrics to track for changes"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:eS.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ej.S,{id:"metric-".concat(e.id),checked:i.metrics.includes(e.id),onCheckedChange:()=>b(e.id),disabled:!i.enabled}),(0,a.jsx)("label",{htmlFor:"metric-".concat(e.id),className:"text-sm text-gray-300 cursor-pointer",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ew.J,{className:"text-white",children:"Notification Settings"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ej.S,{id:"email-notifications",checked:i.emailNotifications,onCheckedChange:e=>c({...i,emailNotifications:!!e}),disabled:!i.enabled}),(0,a.jsx)("label",{htmlFor:"email-notifications",className:"text-sm text-gray-300 cursor-pointer",children:"Email notifications"})]}),(0,a.jsxs)("div",{className:"pt-2",children:[(0,a.jsx)(ew.J,{htmlFor:"slack-webhook",className:"text-sm text-gray-300",children:"Slack Webhook URL (Optional)"}),(0,a.jsx)(ey.p,{id:"slack-webhook",type:"text",placeholder:"https://hooks.slack.com/services/...",value:i.slackWebhook||"",onChange:e=>c({...i,slackWebhook:e.target.value||null}),disabled:!i.enabled,className:"w-full mt-1"})]})]})]}),(0,a.jsxs)(r.wL,{className:"flex justify-between",children:[(0,a.jsx)(N.$,{variant:"destructive",onClick:p,disabled:!i.enabled||o,children:"Disable Monitoring"}),(0,a.jsx)(N.$,{onClick:g,disabled:o,className:"gap-1",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eA.A,{className:"h-4 w-4"}),"Save Configuration"]})})]})]}):null}var eT=t(43554),eC=t(35462),eE=t(87712),eR=t(40235);let eW=[{id:"overallScore",label:"Overall Score",color:"#4f46e5"},{id:"seoScore",label:"SEO Score",color:"#10b981"},{id:"performanceScore",label:"Performance Score",color:"#f59e0b"},{id:"accessibilityScore",label:"Accessibility Score",color:"#6366f1"},{id:"bestPracticesScore",label:"Best Practices Score",color:"#8b5cf6"},{id:"securityScore",label:"Security Score",color:"#ec4899"}],eM=[{id:"7days",label:"Last 7 Days"},{id:"30days",label:"Last 30 Days"},{id:"3months",label:"Last 3 Months"},{id:"6months",label:"Last 6 Months"}];function eF(e){var s;let{websiteId:t}=e,[i,c]=(0,l.useState)(null),[o,x]=(0,l.useState)(!0),[m,u]=(0,l.useState)(null),[j,g]=(0,l.useState)("30days"),[b,p]=(0,l.useState)(["overallScore","seoScore","performanceScore"]),{toast:S}=(0,ea.dj)(),k=async()=>{let e;if(t){switch(x(!0),u(null),j){case"7days":e=(0,ec.GP)((0,eT.e)(new Date,7),"yyyy-MM-dd");break;case"30days":default:e=(0,ec.GP)((0,eT.e)(new Date,30),"yyyy-MM-dd");break;case"3months":e=(0,ec.GP)((0,eC.a)(new Date,3),"yyyy-MM-dd");break;case"6months":e=(0,ec.GP)((0,eC.a)(new Date,6),"yyyy-MM-dd")}try{var s,a;let l=b.join(","),r=await fetch("/api/monitor/continuous?websiteId=".concat(t,"&startDate=").concat(e,"&metrics=").concat(l));if(!r.ok)throw Error("Failed to fetch monitoring data: ".concat(r.statusText));let i=await r.json(),n={trends:i.trends.map(e=>({date:(0,ec.GP)(new Date(e.date),"MMM dd"),...e.scores})),latestAudit:{date:(null==(s=i.latestAudit)?void 0:s.date)?(0,ec.GP)(new Date(i.latestAudit.date),"MMM dd, yyyy"):"N/A",scores:(null==(a=i.latestAudit)?void 0:a.scores)||{}},previousAudit:i.previousAudit?{date:(0,ec.GP)(new Date(i.previousAudit.date),"MMM dd, yyyy"),scores:i.previousAudit.scores}:null};c(n)}catch(e){u("Error fetching monitoring data: ".concat(e.message)),S({title:"Error",description:"Failed to load monitoring data: ".concat(e.message),variant:"destructive"})}finally{x(!1)}}},T=e=>{b.includes(e)?b.length>1&&p(b.filter(s=>s!==e)):p([...b,e])},C=e=>{if(!i||!i.previousAudit)return null;let s=i.latestAudit.scores[e]||0,t=i.previousAudit.scores[e]||0,a=s-t;return{value:a,percentage:t>0?a/t*100:0}},E=e=>null===e?(0,a.jsx)(eE.A,{className:"h-4 w-4 text-gray-400"}):e>0?(0,a.jsx)(TrendUp,{className:"h-4 w-4 text-green-500"}):e<0?(0,a.jsx)(TrendDown,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)(eE.A,{className:"h-4 w-4 text-gray-400"});return(0,l.useEffect)(()=>{t&&k()},[t,j,b]),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(eR.A,{className:"h-5 w-5 text-yellow-400"}),"Performance Trends"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Monitor your website's performance metrics over time"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(eu.l6,{value:j,onValueChange:g,children:[(0,a.jsx)(eu.bq,{className:"w-[180px] h-8",children:(0,a.jsx)(eu.yv,{placeholder:"Select time range"})}),(0,a.jsx)(eu.gC,{children:eM.map(e=>(0,a.jsx)(eu.eb,{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)(N.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>k(),children:[(0,a.jsx)(R.A,{className:"h-3.5 w-3.5"}),"Refresh"]})]})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)(n.Tabs,{defaultValue:"chart",className:"w-full",children:[(0,a.jsxs)(n.TabsList,{className:"grid grid-cols-2 mb-4",children:[(0,a.jsx)(n.TabsTrigger,{value:"chart",children:"Trend Chart"}),(0,a.jsx)(n.TabsTrigger,{value:"comparison",children:"Score Comparison"})]}),(0,a.jsx)(n.TabsContent,{value:"chart",children:o?(0,a.jsx)("div",{className:"w-full h-[300px]",children:(0,a.jsx)(U.E,{className:"w-full h-full"})}):m?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400 h-[300px] flex flex-col items-center justify-center",children:[(0,a.jsx)(z.A,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("p",{children:m})]}):i&&0!==i.trends.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:eW.map(e=>(0,a.jsx)(N.$,{variant:b.includes(e.id)?"default":"outline",size:"sm",onClick:()=>T(e.id),className:"h-7 text-xs",style:{backgroundColor:b.includes(e.id)?"".concat(e.color,"20"):"",borderColor:b.includes(e.id)?e.color:"",color:b.includes(e.id)?e.color:""},children:e.label},e.id))}),(0,a.jsx)("div",{className:"w-full h-[300px]",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(f.b,{data:i.trends,margin:{top:5,right:5,left:0,bottom:5},children:[(0,a.jsx)(y.d,{strokeDasharray:"3 3",stroke:"#2d2d2d"}),(0,a.jsx)(w.W,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),(0,a.jsx)(v.h,{domain:[0,100],stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),(0,a.jsx)(h.m,{contentStyle:{backgroundColor:"#1f1f1f",borderColor:"#333",color:"#fff"}}),(0,a.jsx)(I.s,{}),eW.filter(e=>b.includes(e.id)).map(e=>(0,a.jsx)(A.N,{type:"monotone",dataKey:e.id,name:e.label,stroke:e.color,activeDot:{r:6},strokeWidth:2},e.id))]})})})]}):(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400 h-[300px] flex flex-col items-center justify-center",children:[(0,a.jsx)(eR.A,{className:"h-12 w-12 mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No trend data available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Continuous monitoring data will appear here after multiple audits have been run."})]})}),(0,a.jsx)(n.TabsContent,{value:"comparison",children:o?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md",children:[(0,a.jsx)(U.E,{className:"h-5 w-32"}),(0,a.jsx)(U.E,{className:"h-5 w-24"})]},e))}):m?(0,a.jsxs)("div",{className:"p-4 text-center text-red-400",children:[(0,a.jsx)(z.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:m})]}):i&&i.latestAudit?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Latest Audit"}),(0,a.jsx)("p",{className:"text-lg font-medium text-white",children:i.latestAudit.date})]}),(0,a.jsxs)("div",{className:"p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Previous Audit"}),(0,a.jsx)("p",{className:"text-lg font-medium text-white",children:(null==(s=i.previousAudit)?void 0:s.date)||"N/A"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:eW.map(e=>{let s=i.latestAudit.scores[e.id]||0,t=C(e.id);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md hover:bg-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-white",children:e.label})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:s.toFixed(1)}),null!==t&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(t.value>0?"text-green-500":t.value<0?"text-red-500":"text-gray-400"),children:[E(t.value),(0,a.jsxs)("span",{className:"text-sm",children:[t.value>0?"+":"",t.value.toFixed(1),"(",t.value>0?"+":"",t.percentage.toFixed(1),"%)"]})]})]})]},e.id)})})]}):(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(eR.A,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No comparison data available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Score comparison will appear here after at least one audit has been run."})]})})]})})]})}function eB(e){let{websites:s=[],initialWebsiteId:t}=e,[c,d]=(0,l.useState)(t||""),[o,x]=(0,l.useState)(0),[m,h]=(0,l.useState)(!1),{toast:u}=(0,ea.dj)();(0,l.useEffect)(()=>{t?d(t):s.length>0&&!c&&d(s[0].id)},[t,s]),(0,l.useEffect)(()=>{if(c){let e=s.find(e=>e.id===c);e&&h(!!e.monitoringEnabled)}},[c,s]);let j=e=>{x(e)};return 0===s.length?(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-yellow-400"}),"Website Monitoring"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Continuous monitoring and alerts for your websites"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,a.jsx)(z.A,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No websites available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Add a website to your account to enable continuous monitoring."})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Website Monitoring"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(eu.l6,{value:c,onValueChange:d,children:[(0,a.jsx)(eu.bq,{className:"w-[250px]",children:(0,a.jsx)(eu.yv,{placeholder:"Select website"})}),(0,a.jsx)(eu.gC,{children:s.map(e=>(0,a.jsx)(eu.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.name}),e.monitoringEnabled&&(0,a.jsx)(i.E,{className:"ml-2 bg-green-500/20 text-green-500 border-green-500/30",children:"Monitoring On"})]})},e.id))})]})})]}),c?(0,a.jsxs)(n.Tabs,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(n.TabsList,{className:"grid grid-cols-3 mb-6",children:[(0,a.jsx)(n.TabsTrigger,{value:"overview",className:"relative",children:"Overview"}),(0,a.jsxs)(n.TabsTrigger,{value:"alerts",className:"relative",children:["Alerts",o>0&&(0,a.jsx)(i.E,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center bg-red-500 text-white",variant:"destructive",children:o})]}),(0,a.jsx)(n.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsx)(n.TabsContent,{value:"overview",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsx)(eF,{websiteId:c}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(eb.A,{className:"h-5 w-5 text-yellow-400"}),"Recent Alerts"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Latest monitoring alerts for your website"})]}),(0,a.jsx)(r.Wu,{children:m?(0,a.jsx)(eN,{websiteId:c,onAlertCountChange:j}):(0,a.jsxs)("div",{className:"p-6 text-center text-gray-400",children:[(0,a.jsx)(eb.A,{className:"h-10 w-10 mx-auto mb-3 text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Monitoring is disabled"}),(0,a.jsx)("p",{className:"text-sm mt-1 mb-4",children:"Enable monitoring to receive alerts about your website's performance."}),(0,a.jsx)(N.$,{variant:"default",onClick:()=>{let e=document.querySelector('[value="settings"]');e&&e.click()},children:"Configure Monitoring"})]})})]}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-yellow-400"}),"Monitoring Status"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Current monitoring configuration"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Status"}),(0,a.jsx)(i.E,{className:m?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:m?"Enabled":"Disabled"})]}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Alert Threshold"}),(0,a.jsx)("span",{className:"text-white",children:"10%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Frequency"}),(0,a.jsx)("span",{className:"text-white",children:"Weekly"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-white/10 rounded-md bg-white/5",children:[(0,a.jsx)("span",{className:"text-white",children:"Notifications"}),(0,a.jsx)(i.E,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30",children:"Email"})]})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(N.$,{variant:"outline",className:"w-full",onClick:()=>{let e=document.querySelector('[value="settings"]');e&&e.click()},children:m?"Update Configuration":"Enable Monitoring"})})]})})]})]})]})}),(0,a.jsx)(n.TabsContent,{value:"alerts",children:(0,a.jsx)(eN,{websiteId:c,onAlertCountChange:j})}),(0,a.jsx)(n.TabsContent,{value:"settings",children:(0,a.jsx)(ek,{websiteId:c,onConfigChange:e=>{h(e),s.map(s=>s.id===c?{...s,monitoringEnabled:e}:s),e&&u({title:"Monitoring Enabled",description:"Continuous monitoring has been enabled for this website.",variant:"default"})}})})]}):(0,a.jsx)(r.Zp,{className:"glass-card border-white/10",children:(0,a.jsx)(r.Wu,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"Please select a website to view monitoring data."})})})]})}function eI(){let[e,s]=(0,l.useState)(!0),[t,d]=(0,l.useState)({totalClients:0,activeClients:0,totalWebsites:0,totalAudits:0,criticalIssues:0,monitoredWebsites:0,activeAlerts:0,systemHealth:0,apiResponseTime:0,dbQueryTime:0,storageUsed:0,totalStorage:0});return((0,l.useEffect)(()=>{let e=setTimeout(()=>{d({totalClients:48,activeClients:42,totalWebsites:156,totalAudits:1248,criticalIssues:23,monitoredWebsites:87,activeAlerts:12,systemHealth:98,apiResponseTime:124,dbQueryTime:78,storageUsed:128,totalStorage:500}),s(!1)},1e3);return()=>clearTimeout(e)},[]),e)?(0,a.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white",children:"Loading dashboard data..."})]})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Total Clients"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-blue-400"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.totalClients}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.E,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[t.activeClients," Active"]}),(0,a.jsxs)(i.E,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:[t.totalClients-t.activeClients," Inactive"]})]})]})]}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Total Websites"}),(0,a.jsx)(G.A,{className:"h-4 w-4 text-purple-400"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.totalWebsites}),(0,a.jsxs)("p",{className:"text-xs text-purple-400",children:["~",(t.totalWebsites/t.totalClients).toFixed(1)," per client"]})]})]}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Critical Issues"}),(0,a.jsx)(z.A,{className:"h-4 w-4 text-red-400"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.criticalIssues}),(0,a.jsx)("p",{className:"text-xs text-red-400",children:"Across all monitored websites"})]})]}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"System Health"}),(0,a.jsx)(C.A,{className:"h-4 w-4 text-green-400"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[t.systemHealth,"%"]}),(0,a.jsx)(c.k,{value:t.systemHealth,className:"h-1 mt-2"})]})]}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Monitored Websites"}),(0,a.jsx)(T.A,{className:"h-4 w-4 text-yellow-400"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.monitoredWebsites}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsxs)(i.E,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[t.activeAlerts," Alerts"]})})]})]})]}),(0,a.jsxs)(n.Tabs,{defaultValue:"overview",className:"space-y-4",children:[(0,a.jsxs)(n.TabsList,{className:"bg-black/20 border border-white/10",children:[(0,a.jsx)(n.TabsTrigger,{value:"overview",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Overview"}),(0,a.jsx)(n.TabsTrigger,{value:"audits",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Audit Management"}),(0,a.jsx)(n.TabsTrigger,{value:"monitoring",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Monitoring"}),(0,a.jsx)(n.TabsTrigger,{value:"clients",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Client Analytics"}),(0,a.jsx)(n.TabsTrigger,{value:"system",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"System Performance"}),(0,a.jsx)(n.TabsTrigger,{value:"activity",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Recent Activity"})]}),(0,a.jsxs)(n.TabsContent,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(p,{}),(0,a.jsx)(P,{})]}),(0,a.jsx)(Q,{})]}),(0,a.jsxs)(n.TabsContent,{value:"audits",className:"space-y-6",children:[(0,a.jsx)(em,{}),(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-blue-400"}),"Comparative Analysis"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Sample comparative analysis for a website"})]}),(0,a.jsx)(r.Wu,{children:t.totalWebsites>0?(0,a.jsx)(eh.ComparativeAnalysis,{websiteId:"sample-website-id"}):(0,a.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No websites available for analysis"})})})]})]}),(0,a.jsx)(n.TabsContent,{value:"monitoring",className:"space-y-6",children:(0,a.jsx)(eB,{websites:[{id:"website-1",name:"Company Website",url:"https://example.com",monitoringEnabled:!0},{id:"website-2",name:"E-commerce Store",url:"https://store.example.com",monitoringEnabled:!0},{id:"website-3",name:"Marketing Blog",url:"https://blog.example.com",monitoringEnabled:!1}]})}),(0,a.jsx)(n.TabsContent,{value:"clients",className:"space-y-6",children:(0,a.jsxs)(r.Zp,{className:"glass-card border-white/10",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-blue-400"}),"Client Analytics"]}),(0,a.jsx)(r.BT,{className:"text-gray-300",children:"Detailed analytics for all client accounts"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"h-[400px] flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"Client analytics visualization will be displayed here"})})})]})}),(0,a.jsx)(n.TabsContent,{value:"system",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(M,{}),(0,a.jsx)(es,{storageUsed:t.storageUsed,totalStorage:t.totalStorage})]})}),(0,a.jsx)(n.TabsContent,{value:"activity",className:"space-y-6",children:(0,a.jsx)(Q,{limit:20})})]})]})}},90088:(e,s,t)=>{"use strict";t.d(s,{d:()=>c});var a=t(95155),l=t(12115),r=t(4884),i=t(53999);let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:s,children:(0,a.jsx)(r.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});c.displayName=r.bL.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,4706,617,5093,4502,9855,9632,7445,6433,9030,5532,2249,9601,5979,8441,1684,7358],()=>s(55914)),_N_E=e.O()}]);