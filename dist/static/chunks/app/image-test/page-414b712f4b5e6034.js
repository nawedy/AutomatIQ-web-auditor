(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9155],{6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let l=r(12115);function n(e,t){let r=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useCallback)(l=>{if(null===l){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,l)),t&&(n.current=a(t,l))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},24139:(e,t,r)=>{Promise.resolve().then(r.bind(r,89335))},27737:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var l=r(95155),n=r(53999);function a(e){let{className:t,...r}=e;return(0,l.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...r})}},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var l=r(52596),n=r(39688);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}},89335:(e,t,r)=>{"use strict";r.d(t,{OptimizedImage:()=>u});var l=r(95155),n=r(66766),a=r(12115),i=r(53999),c=r(27737);let o="/images/placeholder.svg",s={"400x250":"/api/placeholder/400/250.svg","800x600":"/api/placeholder/800/600.svg","1200x630":"/api/placeholder/1200/630.svg"};{let e=()=>{let e=Object.values(s),t=Array.from(document.head.querySelectorAll('link[rel="preload"][as="image"]')).map(e=>e.href);e.forEach(e=>{let r=new URL(e,window.location.origin).href;if(t.some(t=>t.includes(e)))return;let l=document.createElement("link");l.rel="preload",l.as="image",l.href=r,l.type="image/svg+xml",l.setAttribute("data-placeholder","true"),document.head.appendChild(l),console.log("Preloaded placeholder: ".concat(r))})};"complete"===document.readyState?e():(window.addEventListener("load",e),setTimeout(e,2e3))}function u(e){let{src:t,alt:r,width:u,height:d,className:h,fill:f=!1,priority:m=!1,sizes:p="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",quality:g=85,placeholder:v="blur",blurDataURL:x="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMxYTFhMmUiLz48L3N2Zz4=",onLoadingComplete:y,onError:b,style:w,fallbackSrc:j,...M}=e,[k,I]=(0,a.useState)(!0),[N,E]=(0,a.useState)(!1),[P,z]=(0,a.useState)(t||""),C=(0,a.useRef)(null),_=(0,a.useRef)(0),A=(0,a.useRef)(!0);(0,a.useEffect)(()=>(A.current=!0,()=>{A.current=!1}),[]),(0,a.useEffect)(()=>{A.current&&(I(!0),E(!1),_.current=0,"string"==typeof t&&t?t.startsWith("./")?z(t.substring(2)):t.startsWith("/")||t.startsWith("http")?z(t):z("/".concat(t)):(z(j||o),E(!j),console.error("Invalid image source:",t)))},[t,j]),(0,a.useEffect)(()=>{if(m&&P){let e=document.createElement("img");e.src=P,"fetchPriority"in e&&(e.fetchPriority="high");let t=document.createElement("link");return t.rel="preload",t.as="image",t.href=P,t.crossOrigin="anonymous",document.head.appendChild(t),()=>{document.head.removeChild(t)}}},[m,P]);let L=(0,a.useCallback)(()=>{A.current&&(I(!1),null==y||y())},[y]),O=(0,a.useCallback)(()=>{if(A.current){if(_.current+=1,b&&1===_.current&&b(),j&&1===_.current){console.log("Using provided fallback image: ".concat(j)),z(j);return}if(u&&d){let e="".concat(u,"x").concat(d);if(s[e]){console.log("Using dimension-specific placeholder: ".concat(s[e])),z(s[e]),E(!1),I(!1);return}let t=Object.keys(s).map(e=>{let[t,r]=e.split("x").map(Number);return{size:e,width:t,height:r}}),r=u/d,l=t.sort((e,t)=>Math.abs(e.width/e.height-r)-Math.abs(t.width/t.height-r))[0];if(l){console.log("Using closest matching placeholder: ".concat(s[l.size])),z(s[l.size]),E(!1),I(!1);return}}console.error("Failed to load image: ".concat(t," (attempt ").concat(_.current,")")),z(o),E(!0),I(!1)}},[t,j,u,d,b]);return N?(0,l.jsx)("div",{className:(0,i.cn)("flex items-center justify-center bg-muted/10 border border-muted rounded",h),style:{width:u||"100%",height:d||(u?.75*u:200),...w},children:(0,l.jsxs)("div",{className:"flex flex-col items-center p-2 text-center",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-2 text-muted-foreground",children:[(0,l.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,l.jsx)("circle",{cx:"9",cy:"9",r:"2"}),(0,l.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),(0,l.jsx)("span",{className:"text-xs",children:"Image not available"})]})}):(0,l.jsxs)("div",{className:(0,i.cn)("relative overflow-hidden",h),style:w,children:[k&&(0,l.jsx)(c.E,{className:"absolute inset-0",style:{width:u||"100%",height:d||(u?.75*u:"auto")}}),P&&(0,l.jsx)(n.default,{ref:C,src:P,alt:r,width:f?void 0:u||800,height:f?void 0:d||(u?Math.floor(.75*u):void 0),fill:f,priority:m,sizes:p,quality:g,placeholder:v,blurDataURL:x,onLoad:L,onError:O,loading:m?"eager":"lazy",decoding:"async",fetchPriority:m?"high":"auto",unoptimized:P===o,className:(0,i.cn)("transition-opacity duration-200",k?"opacity-0":"opacity-100",f?"object-cover":""),...M})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6766,8441,1684,7358],()=>t(24139)),_N_E=e.O()}]);