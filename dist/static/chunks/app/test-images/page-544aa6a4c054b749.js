(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6384],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>i});var n=r(12115);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=l(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():l(e[t],null)}}}}function a(...e){return n.useCallback(i(...e),e)}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let n=r(12115);function l(e,t){let r=(0,n.useRef)(null),l=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=i(e,n)),t&&(l.current=i(t,n))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},21055:(e,t,r)=>{Promise.resolve().then(r.bind(r,27507))},27507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(95155),l=r(12115),i=r(89335),a=r(97168);function s(){let[e,t]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"container mx-auto py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Image Loading Test Page"}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(a.$,{onClick:()=>{t(!0),setTimeout(()=>{t(!1)},2e3)},disabled:e,children:e?"Loading...":"Simulate Loading"})}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{src:"/images/placeholder.svg",alt:"Placeholder SVG",width:400,height:300,priority:!0},{src:"https://picsum.photos/800/600",alt:"Random Image 1 (External)",width:800,height:600},{src:"https://picsum.photos/id/237/400/300",alt:"Random Image 2 (External)",width:400,height:300},{src:"https://source.unsplash.com/random/600x400",alt:"Random Unsplash Image",width:600,height:400},{src:"/non-existent-image.jpg",alt:"Non-existent Image (Should Show Fallback)",width:500,height:300,fallbackSrc:"/images/placeholder.svg"}].map((e,t)=>(0,n.jsxs)("div",{className:"border rounded-lg p-4 flex flex-col",children:[(0,n.jsx)("div",{className:"h-[300px] relative mb-4",children:(0,n.jsx)(i.OptimizedImage,{src:e.src,alt:e.alt,width:e.width,height:e.height,priority:e.priority,fallbackSrc:e.fallbackSrc,className:"rounded-md"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium",children:e.alt}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[e.width,"x",e.height]}),(0,n.jsx)("p",{className:"text-xs text-gray-400 truncate mt-1",children:e.src})]})]},t))}),(0,n.jsxs)("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Performance Notes"}),(0,n.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,n.jsxs)("li",{children:["The first image uses ",(0,n.jsx)("code",{children:"priority"})," for immediate loading"]}),(0,n.jsx)("li",{children:"External images are loaded with proper error handling"}),(0,n.jsx)("li",{children:"The last image intentionally uses a non-existent source to demonstrate fallback"}),(0,n.jsx)("li",{children:"All images use the optimized component with skeleton loading states"})]})]})]})}},27737:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(95155),l=r(53999);function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",t),...r})}},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(52596),l=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,n.$)(t))}},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(52596);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.$,a=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],n=null==s?void 0:s[e];if(null===t)return null;let i=l(t)||l(n);return a[e][i]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...l}=t;return Object.entries(l).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...c}[t]):({...s,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},89335:(e,t,r)=>{"use strict";r.d(t,{OptimizedImage:()=>d});var n=r(95155),l=r(66766),i=r(12115),a=r(53999),s=r(27737);let o="/images/placeholder.svg",c={"400x250":"/api/placeholder/400/250.svg","800x600":"/api/placeholder/800/600.svg","1200x630":"/api/placeholder/1200/630.svg"};{let e=()=>{let e=Object.values(c),t=Array.from(document.head.querySelectorAll('link[rel="preload"][as="image"]')).map(e=>e.href);e.forEach(e=>{let r=new URL(e,window.location.origin).href;if(t.some(t=>t.includes(e)))return;let n=document.createElement("link");n.rel="preload",n.as="image",n.href=r,n.type="image/svg+xml",n.setAttribute("data-placeholder","true"),document.head.appendChild(n),console.log("Preloaded placeholder: ".concat(r))})};"complete"===document.readyState?e():(window.addEventListener("load",e),setTimeout(e,2e3))}function d(e){let{src:t,alt:r,width:d,height:u,className:h,fill:m=!1,priority:f=!1,sizes:g="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",quality:p=85,placeholder:x="blur",blurDataURL:v="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMxYTFhMmUiLz48L3N2Zz4=",onLoadingComplete:y,onError:b,style:j,fallbackSrc:w,...N}=e,[k,I]=(0,i.useState)(!0),[E,S]=(0,i.useState)(!1),[_,C]=(0,i.useState)(t||""),R=(0,i.useRef)(null),P=(0,i.useRef)(0),M=(0,i.useRef)(!0);(0,i.useEffect)(()=>(M.current=!0,()=>{M.current=!1}),[]),(0,i.useEffect)(()=>{M.current&&(I(!0),S(!1),P.current=0,"string"==typeof t&&t?t.startsWith("./")?C(t.substring(2)):t.startsWith("/")||t.startsWith("http")?C(t):C("/".concat(t)):(C(w||o),S(!w),console.error("Invalid image source:",t)))},[t,w]),(0,i.useEffect)(()=>{if(f&&_){let e=document.createElement("img");e.src=_,"fetchPriority"in e&&(e.fetchPriority="high");let t=document.createElement("link");return t.rel="preload",t.as="image",t.href=_,t.crossOrigin="anonymous",document.head.appendChild(t),()=>{document.head.removeChild(t)}}},[f,_]);let O=(0,i.useCallback)(()=>{M.current&&(I(!1),null==y||y())},[y]),z=(0,i.useCallback)(()=>{if(M.current){if(P.current+=1,b&&1===P.current&&b(),w&&1===P.current){console.log("Using provided fallback image: ".concat(w)),C(w);return}if(d&&u){let e="".concat(d,"x").concat(u);if(c[e]){console.log("Using dimension-specific placeholder: ".concat(c[e])),C(c[e]),S(!1),I(!1);return}let t=Object.keys(c).map(e=>{let[t,r]=e.split("x").map(Number);return{size:e,width:t,height:r}}),r=d/u,n=t.sort((e,t)=>Math.abs(e.width/e.height-r)-Math.abs(t.width/t.height-r))[0];if(n){console.log("Using closest matching placeholder: ".concat(c[n.size])),C(c[n.size]),S(!1),I(!1);return}}console.error("Failed to load image: ".concat(t," (attempt ").concat(P.current,")")),C(o),S(!0),I(!1)}},[t,w,d,u,b]);return E?(0,n.jsx)("div",{className:(0,a.cn)("flex items-center justify-center bg-muted/10 border border-muted rounded",h),style:{width:d||"100%",height:u||(d?.75*d:200),...j},children:(0,n.jsxs)("div",{className:"flex flex-col items-center p-2 text-center",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-2 text-muted-foreground",children:[(0,n.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,n.jsx)("circle",{cx:"9",cy:"9",r:"2"}),(0,n.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),(0,n.jsx)("span",{className:"text-xs",children:"Image not available"})]})}):(0,n.jsxs)("div",{className:(0,a.cn)("relative overflow-hidden",h),style:j,children:[k&&(0,n.jsx)(s.E,{className:"absolute inset-0",style:{width:d||"100%",height:u||(d?.75*d:"auto")}}),_&&(0,n.jsx)(l.default,{ref:R,src:_,alt:r,width:m?void 0:d||800,height:m?void 0:u||(d?Math.floor(.75*d):void 0),fill:m,priority:f,sizes:g,quality:p,placeholder:x,blurDataURL:v,onLoad:O,onError:z,loading:f?"eager":"lazy",decoding:"async",fetchPriority:f?"high":"auto",unoptimized:_===o,className:(0,a.cn)("transition-opacity duration-200",k?"opacity-0":"opacity-100",m?"object-cover":""),...N})]})}},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>o});var n=r(95155),l=r(12115),i=r(99708),a=r(74466),s=r(53999);let o=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:r,variant:l,size:a,asChild:c=!1,...d}=e,u=c?i.DX:"button";return(0,n.jsx)(u,{className:(0,s.cn)(o({variant:l,size:a,className:r})),ref:t,...d})});c.displayName="Button"},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>s,Dc:()=>c,TL:()=>a});var n=r(12115),l=r(6101),i=r(95155);function a(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){var a;let e,s,o=(a=r,(s=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(s=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let n in t){let l=e[n],i=t[n];/^on[A-Z]/.test(n)?l&&i?r[n]=(...e)=>{let t=i(...e);return l(...e),t}:l&&(r[n]=l):"style"===n?r[n]={...l,...i}:"className"===n&&(r[n]=[l,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(c.ref=t?(0,l.t)(t,o):o),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:l,...a}=e,s=n.Children.toArray(l),o=s.find(d);if(o){let e=o.props.children,l=s.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,l):null})}return(0,i.jsx)(t,{...a,ref:r,children:l})});return r.displayName=`${e}.Slot`,r}var s=a("Slot"),o=Symbol("radix.slottable");function c(e){let t=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=o,t}function d(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6766,8441,1684,7358],()=>t(21055)),_N_E=e.O()}]);